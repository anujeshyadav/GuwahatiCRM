(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[300],{3086:function(e,l,t){"use strict";t.r(l);var a=t(59),n=t(7),o=t(24),i=t(1),d=t.n(i),u=t(232),r=t.n(u),c=t(909),v=t(901),m=t(902),s=t(243),p=t(913),E=t(903),b=t(904),y=t(905),g=t(936),f=t(891),h=t(906),_=(t(26),t(168)),O=t.n(_),j=(t(233),t(923)),x=t(131),N=t(929),D=t.n(N),k=t(83),F=t(920),S=t(899),w=t(900),I=t(95),C=t.n(I),P=(t(643),t(53)),M=(t(231),t(76));l.default=function(e){var l,t,u,_,N,I,T,J,A,z,K,U,B=Object(i.useState)([]),G=Object(o.a)(B,2),q=G[0],R=G[1],W=Object(i.useState)([]),L=Object(o.a)(W,2),Q=L[0],V=L[1],Z=Object(i.useState)({}),$=Object(o.a)(Z,2),H=$[0],X=$[1],Y=Object(i.useState)({}),ee=Object(o.a)(Y,2),le=ee[0],te=ee[1],ae=Object(i.useState)({}),ne=Object(o.a)(ae,2),oe=ne[0],ie=ne[1],de=Object(i.useState)({}),ue=Object(o.a)(de,2),re=ue[0],ce=ue[1],ve=Object(i.useState)(""),me=Object(o.a)(ve,2),se=me[0],pe=me[1],Ee=Object(i.useState)(""),be=Object(o.a)(Ee,2),ye=be[0],ge=be[1],fe=Object(i.useState)({}),he=Object(o.a)(fe,2),_e=(he[0],he[1],Object(i.useState)(!1)),Oe=Object(o.a)(_e,2),je=Oe[0],xe=Oe[1],Ne=function(){return xe(!je)},De=Object(i.useContext)(M.a),ke=Object(k.g)(),Fe=Object(k.h)(),Se=function(e,l,t){var o=e.target,i=o.name,d=o.value,u=o.checked;pe(t),"checkbox"==l?te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,u))):"number"==l?/^\d{0,10}$/.test(d)&&(te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,d))),ge("")):"file"==l?e.target.files&&te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,e.target.files[0]))):d.length<=10?(te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,d))),ge("")):te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,d)))};Object(i.useEffect)((function(){var e;if(null===Fe||void 0===Fe||null===(e=Fe.state)||void 0===e?void 0:e.data)localStorage.setItem("DispatchItem",JSON.stringify(null===Fe||void 0===Fe?void 0:Fe.state.data)),ie(null===Fe||void 0===Fe?void 0:Fe.state.data);else{var l=JSON.parse(localStorage.getItem("DispatchItem"));ie(l)}}),[le]),Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData")),l=null===e||void 0===e?void 0:e._id;Object(P.qb)().then((function(e){var l,t,a,n,o=r.a.xml2json(e.data,{compact:!0,spaces:2});console.log(null===(l=JSON.parse(o))||void 0===l?void 0:l.GoodDispatch.MyDropdown.dropdown.label._text),R(null===(t=JSON.parse(o))||void 0===t||null===(a=t.GoodDispatch)||void 0===a?void 0:a.input),ce(null===(n=JSON.parse(o))||void 0===n?void 0:n.GoodDispatch)})).catch((function(e){console.log(e),C()("Something Went Wrong")})),Object(P.i)(l).then((function(e){var l=null===e||void 0===e?void 0:e.adminDetails;console.log(l),l&&V(l)})).catch((function(e){console.log(e)}))}),[]);return d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement(c.a,null,d.a.createElement(v.a,{className:"m-2"},d.a.createElement(m.a,null,d.a.createElement("h1",{className:"float-left"},"Create Dispatch")),d.a.createElement(m.a,null,d.a.createElement("div",{className:"float-right"},d.a.createElement(k.b,{render:function(e){var l=e.history;return d.a.createElement(s.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"danger",size:"sm",onClick:function(){return l.goBack()}},"Back")}})))),d.a.createElement(p.a,null,d.a.createElement(E.a,{className:"m-1",onSubmit:function(e){var l,t;e.preventDefault(),console.log(le),console.log(oe);var a=new FormData;a.append("userId",null===oe||void 0===oe?void 0:oe.userId),a.append("orderId",null===oe||void 0===oe?void 0:oe.orderId),a.append("status","InProcess"),a.append("orderItems",JSON.stringify(null===oe||void 0===oe?void 0:oe.orderItems)),null===q||void 0===q||q.map((function(e,l){var t,n,o,i,d;if("text"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(n=t._attributes)||void 0===n?void 0:n.type))a.append("".concat(null===e||void 0===e?void 0:e.name._text),le[null===e||void 0===e||null===(d=e.name)||void 0===d?void 0:d._text]);else if("file"==(null===e||void 0===e||null===(o=e.type)||void 0===o||null===(i=o._attributes)||void 0===i?void 0:i.type)){var u,r;"CNUpload"==(null===e||void 0===e||null===(u=e.name)||void 0===u?void 0:u._text)&&a.append("file",null===le||void 0===le?void 0:le.CNUpload),null===e||void 0===e||null===(r=e.name)||void 0===r||r._text}else{var c;a.append("".concat(null===e||void 0===e?void 0:e.name._text),le[null===e||void 0===e||null===(c=e.name)||void 0===c?void 0:c._text])}})),a.append("".concat(null===re||void 0===re||null===(l=re.MyDropdown)||void 0===l||null===(t=l.dropdown.name)||void 0===t?void 0:t._text),le.AssignDeliveryBoy),Object(P.ec)(a).then((function(e){console.log(e);Object(P.lb)(null===oe||void 0===oe?void 0:oe._id,{status:"Inprocess"}).then((function(e){console.log(e),ke.goBack()})).catch((function(e){console.log(e)})),e.status&&C()("Good Dispatch Created Successfully")})).catch((function(e){console.log(e.response),C()("Something went wrong Please Try again After Some Time")}))}},d.a.createElement(v.a,{className:"mb-2"},q&&(null===q||void 0===q?void 0:q.map((function(e,l){var t,o,i,u,r,c,v,p,E,f,h,_,N,k,F,S,w,I,C,P,M,T,J,A,z,K,U,B,G,q,R,W,L,Q,V,Z,$,Y,ee,ae,ne,oe,ie,de,ue,re,ce,ve,me;return"yes"==(null===e||void 0===e||null===(t=e.Lookup)||void 0===t?void 0:t._text)?d.a.createElement(d.a.Fragment,null,d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{key:l,lg:"4",md:"4",sm:"12"},d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(o=e.label)||void 0===o?void 0:o._text),d.a.createElement(y.a,{disabled:!0,className:"form-control",onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},type:null===e||void 0===e||null===(i=e.type)||void 0===i||null===(u=i._attributes)||void 0===u?void 0:u.type,placeholder:"Click to fetch Details",name:null===e||void 0===e||null===(r=e.name)||void 0===r?void 0:r._text,value:le[null===e||void 0===e||null===(c=e.name)||void 0===c?void 0:c._text],onChange:function(t){var a,n;Se(t,null===e||void 0===e||null===(a=e.type)||void 0===a||null===(n=a._attributes)||void 0===n?void 0:n.type,l)}}),d.a.createElement(s.a,{onClick:function(e){e.preventDefault(),Ne()},style:{position:"absolute",right:14,top:33},className:"lookupview",color:"primary"},"Fetch"),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))):(null===e||void 0===e?void 0:e.phoneinput)?d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{key:l,lg:"4",md:"4",sm:"12"},d.a.createElement(g.a,null,d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(v=e.label)||void 0===v?void 0:v._text),d.a.createElement(O.a,{inputClass:"myphoneinput",country:"in",onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},countryCodeEditable:!1,name:null===e||void 0===e||null===(p=e.name)||void 0===p?void 0:p._text,value:le[null===e||void 0===e||null===(E=e.name)||void 0===E?void 0:E._text],onChange:function(l){var t;te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t._text,l)))}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))):(null===e||void 0===e?void 0:e.library)?(null===e||void 0===e||null===(f=e.label._text)||void 0===f?void 0:f.includes("ountry"))?(console.log(e),d.a.createElement(m.a,{key:l,lg:"4",md:"4",sm:"12"},d.a.createElement(g.a,null,d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(h=e.label)||void 0===h?void 0:h._text),d.a.createElement(x.a,{inputClass:"countryclass",className:"countryclassnw",options:j.a.getAllCountries(),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.name},value:H,onChange:function(e){X(e),te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},"Country",null===e||void 0===e?void 0:e.name)))}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))):d.a.createElement(d.a.Fragment,null,"date"==(null===e||void 0===e||null===(_=e.type)||void 0===_||null===(N=_._attributes)||void 0===N?void 0:N.type)?d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{key:l,lg:"3",md:"3",sm:"12"},d.a.createElement(g.a,{key:l},d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(k=e.label)||void 0===k?void 0:k._text),d.a.createElement(y.a,{onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},type:null===e||void 0===e||null===(F=e.type)||void 0===F||null===(S=F._attributes)||void 0===S?void 0:S.type,placeholder:null===e||void 0===e||null===(w=e.placeholder)||void 0===w?void 0:w._text,name:null===e||void 0===e||null===(I=e.name)||void 0===I?void 0:I._text,dateFormat:null===De||void 0===De||null===(C=De.UserInformatio)||void 0===C?void 0:C.dateFormat,value:D()(le[null===e||void 0===e||null===(P=e.name)||void 0===P?void 0:P._text]).tz(null===De||void 0===De||null===(M=De.UserInformatio)||void 0===M?void 0:M.timeZone).format(null===De||void 0===De||null===(T=De.UserInformatio)||void 0===T?void 0:T.dateFormat),onChange:function(t){var a,n;return Se(t,null===e||void 0===e||null===(a=e.type)||void 0===a||null===(n=a._attributes)||void 0===n?void 0:n.type,l)}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))):d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{key:l,lg:"3",md:"3",sm:"12"},d.a.createElement(g.a,{key:l},d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(J=e.label)||void 0===J?void 0:J._text),d.a.createElement(y.a,{onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},type:null===e||void 0===e||null===(A=e.type)||void 0===A||null===(z=A._attributes)||void 0===z?void 0:z.type,placeholder:null===e||void 0===e||null===(K=e.placeholder)||void 0===K?void 0:K._text,name:null===e||void 0===e||null===(U=e.name)||void 0===U?void 0:U._text,value:le[null===e||void 0===e||null===(B=e.name)||void 0===B?void 0:B._text],onChange:function(t){var a,n;return Se(t,null===e||void 0===e||null===(a=e.type)||void 0===a||null===(n=a._attributes)||void 0===n?void 0:n.type,l)}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null))))):d.a.createElement(d.a.Fragment,null,(null===e||void 0===e?void 0:e.number)?d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,{key:l,lg:"4",md:"4",sm:"12"},d.a.createElement(g.a,{key:l},d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(G=e.label)||void 0===G?void 0:G._text),d.a.createElement(y.a,{onWheel:function(e){e.preventDefault()},onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},type:null===e||void 0===e||null===(q=e.type)||void 0===q||null===(R=q._attributes)||void 0===R?void 0:R.type,placeholder:null===e||void 0===e||null===(W=e.placeholder)||void 0===W?void 0:W._text,name:null===e||void 0===e||null===(L=e.name)||void 0===L?void 0:L._text,value:le[null===e||void 0===e||null===(Q=e.name)||void 0===Q?void 0:Q._text],onChange:function(t){var a,n;return Se(t,null===e||void 0===e||null===(a=e.type)||void 0===a||null===(n=a._attributes)||void 0===n?void 0:n.type,l)}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))):d.a.createElement(m.a,{key:l,lg:"4",md:"4",sm:"12"},d.a.createElement(g.a,{key:l},(null===e||void 0===e||null===(V=e.type)||void 0===V||null===(Z=V._attributes)||void 0===Z?void 0:Z.type)&&"file"==(null===e||void 0===e||null===($=e.type)||void 0===$||null===(Y=$._attributes)||void 0===Y?void 0:Y.type)?d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(ee=e.label)||void 0===ee?void 0:ee._text),d.a.createElement(y.a,{multiple:!0,className:"form-control",type:null===e||void 0===e||null===(ae=e.type)||void 0===ae||null===(ne=ae._attributes)||void 0===ne?void 0:ne.type,placeholder:null===e||void 0===e||null===(oe=e.placeholder)||void 0===oe?void 0:oe._text,name:null===e||void 0===e||null===(ie=e.name)||void 0===ie?void 0:ie._text,onChange:function(t){var o,i;!function(e,l,t){var o=e.target,i=o.name;o.value,o.files,Array.from(e.target.files[0]);pe(t),te(Object(n.a)(Object(n.a)({},le),{},Object(a.a)({},i,e.target.files[0])))}(t,null===e||void 0===e||null===(o=e.type)||void 0===o||null===(i=o._attributes)||void 0===i||i.type,l)}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)):d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{className:"mb-1"},null===e||void 0===e||null===(de=e.label)||void 0===de?void 0:de._text),d.a.createElement(y.a,{className:"form-control",onKeyDown:function(l){var t,a;"number"==(null===e||void 0===e||null===(t=e.type)||void 0===t||null===(a=t._attributes)||void 0===a?void 0:a.type)&&["e","E","+","-"].includes(l.key)&&l.preventDefault()},type:null===e||void 0===e||null===(ue=e.type)||void 0===ue||null===(re=ue._attributes)||void 0===re?void 0:re.type,placeholder:null===e||void 0===e||null===(ce=e.placeholder)||void 0===ce?void 0:ce._text,name:null===e||void 0===e||null===(ve=e.name)||void 0===ve?void 0:ve._text,value:le[null===e||void 0===e||null===(me=e.name)||void 0===me?void 0:me._text],onChange:function(t){var a,n;Se(t,null===e||void 0===e||null===(a=e.type)||void 0===a||null===(n=a._attributes)||void 0===n?void 0:n.type,l)}}),se===l?d.a.createElement(d.a.Fragment,null,ye&&d.a.createElement("span",{style:{color:"red"}},ye)):d.a.createElement(d.a.Fragment,null)))))}))),d.a.createElement(m.a,{lg:"4",md:"4"},d.a.createElement("div",{className:"mt-1"},d.a.createElement(g.a,null,d.a.createElement(b.a,null,null===re||void 0===re||null===(l=re.MyDropdown)||void 0===l||null===(t=l.dropdown)||void 0===t||null===(u=t.label)||void 0===u?void 0:u._text," *"),d.a.createElement(f.a,{required:!0,type:"select",name:null===re||void 0===re||null===(_=re.MyDropdown)||void 0===_||null===(N=_.dropdown)||void 0===N||null===(I=N.name)||void 0===I?void 0:I._text,value:le[null===re||void 0===re||null===(T=re.MyDropdown)||void 0===T||null===(J=T.dropdown)||void 0===J||null===(A=J.name)||void 0===A?void 0:A._text],onChange:Se},d.a.createElement("option",{value:""},"--Assign Delivery Boy--"),Q&&(null===Q||void 0===Q?void 0:Q.map((function(e,l){return d.a.createElement("option",{key:null===e||void 0===e?void 0:e._id,value:null===e||void 0===e?void 0:e._id},"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName))})))))))),d.a.createElement("hr",null),d.a.createElement(v.a,null,d.a.createElement(s.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mt-2 mx-2"},"Submit"))))),d.a.createElement(F.a,Object.assign({size:"xl",isOpen:je,toggle:Ne},e),d.a.createElement(S.a,{toggle:Ne},"Invoice Details"),d.a.createElement(w.a,null,d.a.createElement("div",{className:"container"},d.a.createElement(v.a,null,d.a.createElement(m.a,null,d.a.createElement(b.a,null,"Party Name :"),d.a.createElement("h5",{className:"mx-1"},oe&&(null===oe||void 0===oe||null===(z=oe.partyId)||void 0===z?void 0:z.firstName))),d.a.createElement(m.a,null,d.a.createElement(b.a,null,"Date Created :"),d.a.createElement("h5",null,oe&&(null===oe||void 0===oe||null===(K=oe.createdAt)||void 0===K?void 0:K.split("T")[0]))),d.a.createElement(m.a,null,d.a.createElement(b.a,null,"Address :"),d.a.createElement("h5",null,d.a.createElement("strong",null,oe&&(null===oe||void 0===oe?void 0:oe.address)," "))),d.a.createElement(m.a,null,d.a.createElement(b.a,null,"Grand Total :"),d.a.createElement("h5",null,d.a.createElement("strong",null,oe&&(null===oe||void 0===oe?void 0:oe.grandTotal)," "),"Rs/-"))),d.a.createElement(v.a,{className:"p-2"},d.a.createElement(m.a,null,d.a.createElement("div",{className:"d-flex justify-content-center"},d.a.createElement("h4",null,"Product Details")))),d.a.createElement(v.a,null,d.a.createElement(m.a,null,d.a.createElement(h.a,{style:{cursor:"pointer"},striped:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"#"),d.a.createElement("th",null,"Product Name"),d.a.createElement("th",null,"Price"),d.a.createElement("th",null,"Size"),d.a.createElement("th",null,"Unit"),d.a.createElement("th",null,"Quantity"),d.a.createElement("th",null,"Total"))),d.a.createElement("tbody",null,(null===oe||void 0===oe?void 0:oe.orderItems)&&(null===oe||void 0===oe||null===(U=oe.orderItems)||void 0===U?void 0:U.map((function(e,l){var t,a,n,o,i;return d.a.createElement(d.a.Fragment,null,d.a.createElement("tr",null,d.a.createElement("th",{scope:"row"},l+1),d.a.createElement("td",null,null===e||void 0===e||null===(t=e.productId)||void 0===t?void 0:t.Product_Title),d.a.createElement("td",null,null===e||void 0===e||null===(a=e.productId)||void 0===a?void 0:a.Product_MRP),d.a.createElement("td",null,null===e||void 0===e||null===(n=e.productId)||void 0===n?void 0:n.Size),d.a.createElement("td",null,null===e||void 0===e?void 0:e.unitQty),d.a.createElement("td",null,null===e||void 0===e?void 0:e.qty),d.a.createElement("td",null,(null===e||void 0===e||null===(o=e.productId)||void 0===o?void 0:o.Product_MRP)*(null===e||void 0===e||null===(i=e.productId)||void 0===i?void 0:i.Size)*(null===e||void 0===e?void 0:e.qty))))}))))))))))))}},936:function(e,l,t){"use strict";var a=t(9),n=t(11),o=t(1),i=t.n(o),d=t(2),u=t.n(d),r=t(8),c=t.n(r),v=t(5),m=["className","cssModule","row","disabled","check","inline","tag"],s={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:v.tagPropType,className:u.a.string,cssModule:u.a.object},p=function(e){var l=e.className,t=e.cssModule,o=e.row,d=e.disabled,u=e.check,r=e.inline,s=e.tag,p=Object(n.a)(e,m),E=Object(v.mapToCssModules)(c()(l,!!o&&"row",u?"form-check":"form-group",!(!u||!r)&&"form-check-inline",!(!u||!d)&&"disabled"),t);return"fieldset"===s&&(p.disabled=d),i.a.createElement(s,Object(a.a)({},p,{className:E}))};p.propTypes=s,p.defaultProps={tag:"div"},l.a=p}}]);
//# sourceMappingURL=300.2325dc71.chunk.js.map