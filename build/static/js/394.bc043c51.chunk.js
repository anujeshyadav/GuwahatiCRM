(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[394],{3083:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a(25),c=a(24),r=a(1),i=a.n(r),u=(a(232),a(83)),o=(a(26),a(909)),m=a(901),s=a(902),d=a(243),v=a(913),b=a(903),p=a(904),f=a(905),E=(a(233),a(134)),y=a.n(E),N=(a(231),a(53)),O=[],j=[],S=[];t.default=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),a=(t[0],t[1]),E=Object(r.useState)(""),h=Object(c.a)(E,2),g=(h[0],h[1],Object(r.useState)("")),q=Object(c.a)(g,2),z=q[0],P=(q[1],Object(r.useState)([])),I=Object(c.a)(P,2),C=I[0],Q=I[1],T=Object(r.useState)([]),k=Object(c.a)(T,2),w=(k[0],k[1]),D=Object(r.useState)(""),_=Object(c.a)(D,2),x=_[0],R=(_[1],Object(r.useState)([])),J=Object(c.a)(R,2),U=J[0],L=J[1],M=Object(r.useState)(0),V=Object(c.a)(M,2),A=V[0],B=V[1],G=Object(r.useState)(0),F=Object(c.a)(G,2),H=(F[0],F[1],Object(r.useState)({})),K=Object(c.a)(H,2),W=K[0],X=K[1],Y=Object(r.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],ee=(Z[1],Object(r.useState)([{productId:"",availableQty:"",qty:1,price:"",Size:"",unitType:"",totalprice:""}])),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],le=function(e,t,n){var c=e.target,r=c.name,i=c.value;if(Number(i)<=n&&Number(0!=i)){a(t);var u=Object(l.a)(ae);u[t][r]=Number(i);var o=0;if(u.length>0)o=(null===u||void 0===u?void 0:u.map((function(e){return O[t]=e.Size*e.qty*e.price,u[t].totalprice=e.Size*e.qty*e.price,e.Size*e.qty*e.price}))).reduce((function(e,t){return e+t}));ne(u),B(o)}};null===ae||void 0===ae||ae.reduce((function(e,t){return e+t.totalprice}),0);Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"))._id;Object(N.Pb)(e).then((function(e){Q(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)})),Object(N.t)(e).then((function(e){w(e.Party)})).catch((function(e){console.log(e)})),Object(N.zc)(e).then((function(e){L(e.Unit)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));X(e)}),[]);var ce=function(){ne([].concat(Object(l.a)(ae),[{productId:"",availableQty:"",qty:1,price:"",totalprice:"",unitQty:"",unitType:""}]))},re=function(e){var t=Object(l.a)(ae);t.splice(e,1),O.splice(e,1);var a=O.reduce((function(e,t){return e+t}),0);B(a),ne(t)},ie=function(e,t,a){console.log(e)};return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(o.a,null,i.a.createElement(m.a,{className:"m-2"},i.a.createElement(s.a,{className:""},i.a.createElement("div",null,i.a.createElement("h1",{className:""},"Create Item"))),i.a.createElement(s.a,null,i.a.createElement(u.b,{render:function(e){var t=e.history;return i.a.createElement(d.a,{className:"btn float-right",color:"danger",size:"sm",onClick:function(){return t.push("/views/apps/freshlist/Production/Itemproduct")}},"Back")}}))),i.a.createElement(v.a,null,i.a.createElement(b.a,{className:"m-1",onSubmit:function(e){e.preventDefault();var t=(null===W||void 0===W?void 0:W.firstName)+" "+(null===W||void 0===W?void 0:W.lastName),a={userId:null===W||void 0===W?void 0:W._id,fullName:t,address:null===W||void 0===W?void 0:W.currentAddress,grandTotal:A,MobileNo:null===W||void 0===W?void 0:W.mobileNumber,country:null===W||void 0===W?void 0:W.Country,state:null===W||void 0===W?void 0:W.State,city:null===W||void 0===W?void 0:W.City,orderItems:ae,DateofDelivery:$,partyId:x};z?swal("Error occured while Entering Details"):Object(N.bc)(a).then((function(e){swal("Order Created Successfully")})).catch((function(e){console.log(e)}))}},i.a.createElement(m.a,null,i.a.createElement(s.a,{className:"mb-1",lg:"4",md:"4",sm:"12"})),ae&&(null===ae||void 0===ae?void 0:ae.map((function(e,t){return i.a.createElement(m.a,{className:"",key:t},i.a.createElement(s.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(p.a,null,"Product Name"),i.a.createElement(y.a,{required:!0,selectionLimit:1,isObject:"false",options:C,onSelect:function(e,a){return function(e,t,a){j.push(t),ne((function(e){var c=Object(l.a)(e),r=Object(n.a)({},c[a]);return r.price=t.Product_MRP,r.productId=t._id,r.availableQty=t.Size,c[a]=r,c}))}(0,a,t)},onRemove:function(e,t){ie(e)},displayValue:"Product_Title"}))),i.a.createElement(s.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(p.a,null,"Size"),i.a.createElement(f.a,{type:"number",name:"qty",min:0,placeholder:"Req_Qty",required:!0,autocomplete:"off",value:null===e||void 0===e?void 0:e.qty,onChange:function(a){return le(a,t,null===e||void 0===e?void 0:e.availableQty)}}))),i.a.createElement(s.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(p.a,null,"Choose Unit"),i.a.createElement(y.a,{required:!0,selectionLimit:1,isObject:"false",options:U,onSelect:function(e,a){return function(e,t,a){S.push(t),ne((function(e){var c=Object(l.a)(e),r=Object(n.a)({},c[a]);r.Size=t.unitQty,r.unitType=t.primaryUnit,c[a]=r;var i=(null===e||void 0===e?void 0:e.map((function(e,t){var n,l;c[a].totalprice=(null===e||void 0===e?void 0:e.qty)*e.price*(null===(n=S[t])||void 0===n?void 0:n.unitQty);var r=(null===e||void 0===e?void 0:e.price)*e.qty*(null===(l=S[t])||void 0===l?void 0:l.unitQty);return O[a]=r,r}))).reduce((function(e,t){return e+t}));return B(i),c}))}(0,a,t)},onRemove:function(e,t){ie(e)},displayValue:"primaryUnit"}))),i.a.createElement(s.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(p.a,null,"Price"),i.a.createElement(f.a,{type:"number",name:"price",disabled:!0,placeholder:"Price",value:e.price}))),i.a.createElement(s.a,{className:"mb-1"},i.a.createElement("div",{className:""},i.a.createElement(p.a,null,"Total Price"),i.a.createElement(f.a,{type:"number",name:"totalprice",disabled:!0,placeholder:"TtlPrice",value:e.Size*e.price*e.qty}))),i.a.createElement(s.a,{className:"d-flex mt-1 abb"},i.a.createElement("div",{className:"btnStyle"},t?i.a.createElement(d.a,{type:"button",color:"danger",className:"button remove ",size:"sm",onClick:function(){return re(t)}},"-"):null),i.a.createElement("div",{className:"btnStyle"},i.a.createElement(d.a,{className:"ml-1 mb-1",color:"primary",type:"button",size:"sm",onClick:function(){return ce()}},"+"))))}))),i.a.createElement(m.a,null,i.a.createElement(s.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},i.a.createElement("div",{className:" d-flex justify-content-end"},i.a.createElement("ul",{className:"subtotal"},i.a.createElement("li",null,i.a.createElement(p.a,{className:"pr-5"},"Grand Total:",i.a.createElement("span",{className:"p-2"},A&&"NaN"==A?0:A))))))),i.a.createElement(m.a,null,i.a.createElement(s.a,null,i.a.createElement("div",{className:"d-flex justify-content-center"},i.a.createElement(d.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=394.bc043c51.chunk.js.map