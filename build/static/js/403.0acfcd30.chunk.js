(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[403],{3092:function(e,t,a){"use strict";a.r(t);var l=a(26),n=a(60),c=a(8),o=a(25),i=a(1),r=a.n(i),u=(a(233),a(910)),m=a(902),s=a(903),d=a(244),v=a(914),p=a(904),E=a(905),b=a(906),O=a(892),g=a(921),f=a(900),j=a(901),h=a(908),y=a(135),N=a.n(y),S=(a(232),a(54)),T=a(84),x=a(6),_=a(96),P=a.n(_),C=[],Q=[];t.default=function(e){var t,a=Object(i.useState)({}),y=Object(o.a)(a,2),_=(y[0],y[1],Object(i.useState)({Other_Expenses:100,GSTApplied:18,Other_charges:50,discount:10})),R=Object(o.a)(_,2),q=R[0],k=R[1],A=Object(i.useState)(""),D=Object(o.a)(A,2),G=(D[0],D[1]),M=Object(i.useState)(""),I=Object(o.a)(M,2),U=(I[0],I[1],Object(i.useState)("")),W=Object(o.a)(U,2),F=(W[0],W[1],Object(i.useState)("")),J=Object(o.a)(F,2),L=(J[0],J[1],Object(i.useState)(!1)),V=Object(o.a)(L,2),w=(V[0],V[1],Object(i.useState)("")),B=Object(o.a)(w,2),K=(B[0],B[1],Object(i.useState)([])),z=Object(o.a)(K,2),H=z[0],X=z[1],Y=Object(i.useState)([]),Z=Object(o.a)(Y,2),$=(Z[0],Z[1],Object(i.useState)([])),ee=Object(o.a)($,2),te=(ee[0],ee[1],Object(i.useState)("")),ae=Object(o.a)(te,2),le=(ae[0],ae[1],Object(i.useState)({})),ne=Object(o.a)(le,2),ce=ne[0],oe=ne[1],ie=Object(i.useState)([]),re=Object(o.a)(ie,2),ue=(re[0],re[1],Object(i.useState)("")),me=Object(o.a)(ue,2),se=(me[0],me[1],Object(i.useState)(0)),de=Object(o.a)(se,2),ve=de[0],pe=de[1],Ee=Object(i.useState)([]),be=Object(o.a)(Ee,2),Oe=(be[0],be[1]),ge=Object(i.useState)({}),fe=Object(o.a)(ge,2),je=(fe[0],fe[1]),he=Object(i.useState)(!1),ye=Object(o.a)(he,2),Ne=(ye[0],ye[1],Object(i.useState)("")),Se=Object(o.a)(Ne,2),Te=(Se[0],Se[1],Object(i.useState)(!1)),xe=Object(o.a)(Te,2),_e=(xe[0],xe[1],Object(i.useState)([])),Pe=Object(o.a)(_e,2),Ce=(Pe[0],Pe[1]),Qe=Object(i.useState)(!1),Re=Object(o.a)(Qe,2),qe=Re[0],ke=Re[1],Ae=function(){return ke(!qe)},De=function(e){var t=e.target,a=t.name,l=t.value;k(Object(c.a)(Object(c.a)({},q),{},Object(n.a)({},a,l)))},Ge=Object(i.useState)([{product:"",productId:"",selecetedUnit:"",AvailaleQty:null,availableQty:"",transferQty:1,RequiredQty:"",price:"",totalprice:"",Size:"",unitType:"",stockTrxDate:"",targetEndDate:"",discount:"",Shipping:"",tax:"",grandTotal:""}]),Me=Object(o.a)(Ge,2),Ie=Me[0],Ue=Me[1],We=function(e,t){G(t);var a=e.target,n=a.name,c=a.value,o=Object(l.a)(Ie);o[t][n]=c,Ue(o)},Fe=function(e,t){G(t);var a=e.target,n=a.name,c=a.value,o=Object(l.a)(Ie);o[t][n]=Number(c);var i=0;o.length>0&&(i=(null===o||void 0===o?void 0:o.map((function(e){return C[t]=e.price*e.RequiredQty,o[t].totalprice=e.price*e.RequiredQty,(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))).reduce((function(e,t){return e+t})),console.log("GrandTotal",i));Ue(o),pe(i.toFixed(2))};console.log(q);var Je=function(e,t,a){Q.splice(a,1);var l=(null===Ie||void 0===Ie?void 0:Ie.map((function(e,l){var n,c;console.log((null===e||void 0===e?void 0:e.qty)*(null===(n=t[l])||void 0===n?void 0:n.Product_MRP));var o=(null===e||void 0===e?void 0:e.qty)*(null===(c=Q[l])||void 0===c?void 0:c.Product_MRP);return C[a]=o,o}))).reduce((function(e,t){return e+t}));pe(l)};Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));Object(S.Wc)(null===e||void 0===e?void 0:e._id).then((function(e){console.log(null===e||void 0===e?void 0:e.adminDetails),Ce(null===e||void 0===e?void 0:e.adminDetails)})).catch((function(e){console.log(e)})),Object(S.Cc)(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.database).then((function(e){console.log(null===e||void 0===e?void 0:e.Unit),Oe(null===e||void 0===e?void 0:e.Unit)})).catch((function(e){console.log(e)}));var t=JSON.parse(localStorage.getItem("userData"));Object(S.Qb)(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.database).then((function(e){console.log(e.Product),X(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)}))}),[]),Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),je(e)}),[]);var Le=function(){Ue([].concat(Object(l.a)(Ie),[{product:"",productId:"",selecetedUnit:"",AvailaleQty:null,availableQty:"",transferQty:1,RequiredQty:"",price:"",totalprice:"",Size:"",unitType:"",stockTrxDate:"",targetEndDate:"",discount:"",Shipping:"",tax:"",grandTotal:""}]))},Ve=function(e){var t=Object(l.a)(Ie);t.splice(e,1),C.splice(e,1);var a=C.reduce((function(e,t){return e+t}));pe(a),Ue(t)};return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"m-2"},r.a.createElement(s.a,{lg:"8",md:"8",sm:"8",className:"mb-2 mt-1"},r.a.createElement("div",null,r.a.createElement("h1",{className:""},"Start Production Process"))),r.a.createElement(s.a,null,r.a.createElement("div",{className:"float-right"},r.a.createElement(T.b,{render:function(e){var t=e.history;return r.a.createElement(d.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"primary",onClick:function(){return t.goBack()}}," ","Back")}})))),r.a.createElement(v.a,null,r.a.createElement(p.a,{className:"m-1",onSubmit:function(e){Ae(),e.preventDefault()}},r.a.createElement(m.a,null,r.a.createElement(s.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Choose Production Product "),r.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:H,onSelect:function(e,t,a){console.log(e[0]),oe(e[0])},onRemove:function(e,t,a){console.log(e),console.log(a)},displayValue:"Product_Title"})))),Ie&&(null===Ie||void 0===Ie?void 0:Ie.map((function(e,t){return r.a.createElement(m.a,{className:"",key:t},r.a.createElement(s.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Choose item *"),r.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:H,onSelect:function(e,a){return function(e,t,a){Q.push(t),Ue((function(e){var n=Object(l.a)(e),o=Object(c.a)({},n[a]);return o.price=null===t||void 0===t?void 0:t.Product_MRP,o.productId=null===t||void 0===t?void 0:t._id,o.discount=null===t||void 0===t?void 0:t.discount,(null===t||void 0===t?void 0:t.unitType)&&(o.unitType=null===t||void 0===t?void 0:t.unitType.split(" ")[1]),n[a]=o,n}))}(0,a,t)},onRemove:function(e,a){Je(0,a,t)},displayValue:"Product_Title"}))),r.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement("label",{for:"unit"},"Select Unit"),r.a.createElement("select",{required:!0,className:"form-control",name:"selecetedUnit",placeholder:"selecetedUnit",value:null===e||void 0===e?void 0:e.selecetedUnit,onChange:function(e){return We(e,t)},id:"unit"},r.a.createElement("option",{value:""},"--select Unit--"),r.a.createElement("option",{value:"kg"},"Kilogram (kg)"),r.a.createElement("option",{value:"Pcs"},"Pieces (Pcs)"),r.a.createElement("option",{value:"g"},"Gram (g)"),r.a.createElement("option",{value:"tonne"},"Metric Ton (tonne)"),r.a.createElement("option",{value:"m"},"Meter (m)"),r.a.createElement("option",{value:"cm"},"Centimeter (cm)"),r.a.createElement("option",{value:"mm"},"Millimeter (mm)"),r.a.createElement("option",{value:"in"},"Inch (in)"),r.a.createElement("option",{value:"ft"},"Foot (ft)"),r.a.createElement("option",{value:"m3"},"Cubic Meter (m\xb3)"),r.a.createElement("option",{value:"L"},"Liter (L)"),r.a.createElement("option",{value:"ml"},"Milliliter (ml)"),r.a.createElement("option",{value:"s"},"Second (s)"),r.a.createElement("option",{value:"min"},"Minute (min)"),r.a.createElement("option",{value:"hr"},"Hour (hr)"),r.a.createElement("option",{value:"\xb0C"},"Celsius (\xb0C)"),r.a.createElement("option",{value:"\xb0F"},"Fahrenheit (\xb0F)"),r.a.createElement("option",{value:"Pa"},"Pascal (Pa)"),r.a.createElement("option",{value:"bar"},"Bar (bar)"),r.a.createElement("option",{value:"m/s"},"Meters per Second (m/s)"),r.a.createElement("option",{value:"km/h"},"Kilometers per Hour (km/h)"),r.a.createElement("option",{value:"A"},"Ampere (A)"),r.a.createElement("option",{value:"V"},"Volt (V)"),r.a.createElement("option",{value:"W"},"Watt (W)"),r.a.createElement("option",{value:"kW"},"Kilowatt (kW)")))),r.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Price",(null===e||void 0===e?void 0:e.unitType)&&(null===e||void 0===e?void 0:e.unitType)),r.a.createElement(b.a,{type:"number",name:"price",readOnly:!0,"aria-readonly":!0,onChange:function(e){return Fe(e,t)},placeholder:"Price",value:e.price}))),r.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Req_Qty"),r.a.createElement(b.a,{type:"number",min:0,step:"any",name:"RequiredQty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.RequiredQty,onChange:function(e){return Fe(e,t)}}))),r.a.createElement(s.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Discount"),r.a.createElement(b.a,{type:"number",name:"discount",readOnly:!0,placeholder:"Discount",value:e.discount}))),r.a.createElement(s.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Total Price"),r.a.createElement(b.a,{type:"number",name:"totalprice",readOnly:!0,placeholder:"TtlPrice",value:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))),r.a.createElement(s.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:"btnStyle"},t?r.a.createElement(d.a,{type:"button",color:"danger",className:"button remove ",onClick:function(){return Ve(t)}},"- Remove"):null),r.a.createElement("div",{className:"btnStyle"},r.a.createElement(d.a,{className:"ml-1 mb-1",color:"primary",type:"button",onClick:function(){return Le()}},"+ Add"))))}))),r.a.createElement(m.a,null),r.a.createElement(m.a,null,r.a.createElement(s.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},r.a.createElement("div",{className:" d-flex justify-content-end"},r.a.createElement(E.a,{className:"pr-5"},"Grand Total :"," ",r.a.createElement("stron",null,ve&&"NaN"==ve?0:ve," "))))),r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(d.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit"))))))),r.a.createElement(g.a,Object.assign({style:{maxWidth:"1050px"},isOpen:qe,toggle:Ae},e),r.a.createElement(f.a,{toggle:Ae},"Add Charges"),r.a.createElement(j.a,null,r.a.createElement(p.a,{className:"m-1",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("userData")),a=null===Ie||void 0===Ie?void 0:Ie.map((function(e,t){return{productId:null===e||void 0===e?void 0:e.productId,unit:null===e||void 0===e?void 0:e.unitType,price:null===e||void 0===e?void 0:e.price,qty:null===e||void 0===e?void 0:e.RequiredQty,unitType:null===e||void 0===e?void 0:e.selecetedUnit,totalPrice:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}})),l=Number(ve)+Number(null===q||void 0===q?void 0:q.Other_Expenses)+Number(null===q||void 0===q?void 0:q.Other_charges)+Number(ve)*(null===q||void 0===q?void 0:q.GSTApplied)/100-Number(null===q||void 0===q?void 0:q.discount),n={created_by:null===t||void 0===t?void 0:t._id,product_name:null===ce||void 0===ce?void 0:ce._id,productItems:a,miscellaneousExpennses:null===q||void 0===q?void 0:q.Other_Expenses,gstApplied:null===q||void 0===q?void 0:q.GSTApplied,otherCharges:null===q||void 0===q?void 0:q.Other_charges,discount:null===q||void 0===q?void 0:q.discount,grandTotal:l};Object(S.hd)(x.Gc,n).then((function(e){console.log(e),P()("Production Process is Created")})).catch((function(e){console.log(e)}))}},r.a.createElement(m.a,null,r.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Miscellaneous Expenses "),r.a.createElement("input",{className:"form-control",name:"Other_Expenses",value:null===q||void 0===q?void 0:q.Other_Expenses,onChange:De,type:"number"}))),r.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"GST Applied "),r.a.createElement(O.a,{className:"form-control",name:"GSTApplied",value:null===q||void 0===q?void 0:q.GSTApplied,onChange:De,type:"select"},r.a.createElement("option",null,"--select--"),r.a.createElement("option",{value:18},"18"),r.a.createElement("option",{value:9},"9")))),r.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Other Charges "),r.a.createElement("input",{className:"form-control",name:"Other_charges",value:null===q||void 0===q?void 0:q.Other_charges,onChange:De,type:"number"}))),r.a.createElement(s.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Discount "),r.a.createElement("input",{className:"form-control",value:null===q||void 0===q?void 0:q.discount,name:"discount",onChange:De,type:"number"})))),r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," SubTotal:")," ",ve&&"NaN"==ve?0:ve," "),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," Miscellaneous:"),null===q||void 0===q?void 0:q.Other_Expenses),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," GST:")," ",(null===q||void 0===q?void 0:q.GSTApplied)*ve/100),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," other:"),null===q||void 0===q?void 0:q.Other_charges),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," Discount: "),null===q||void 0===q?void 0:q.discount),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," GrandTotal:"),null===(t=Number(ve)+Number(null===q||void 0===q?void 0:q.Other_Expenses)+Number(null===q||void 0===q?void 0:q.Other_charges)+Number(ve)*(null===q||void 0===q?void 0:q.GSTApplied)/100-Number(null===q||void 0===q?void 0:q.discount))||void 0===t?void 0:t.toFixed(2)))),r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(d.a,{color:"primary",type:"submit"},"Submit")," "))))),r.a.createElement(h.a,null)))}}}]);
//# sourceMappingURL=403.0acfcd30.chunk.js.map