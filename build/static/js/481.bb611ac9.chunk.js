(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[481],{3080:function(e,t,a){"use strict";a.r(t);var l=a(60),n=a(9),o=a(26),m=a(1),r=a.n(m),c=(a(233),a(85)),u=(a(27),a(912)),i=a(904),d=a(905),v=a(244),s=a(916),E=a(906),b=a(907),p=a(894),y=a(908),g=(a(234),a(135)),N=a.n(g),h=(a(232),a(40)),O=a(5),f=a(72),j=a.n(f);t.default=function(e){var t=Object(m.useState)(""),a=Object(o.a)(t,2),g=a[0],f=(a[1],Object(m.useState)("")),S=Object(o.a)(f,2),P=S[0],C=S[1],T=Object(m.useState)("Create"),I=Object(o.a)(T,2),q=I[0],A=I[1],k=Object(m.useState)([]),x=Object(o.a)(k,2),D=x[0],R=x[1],B=Object(m.useState)(""),w=Object(o.a)(B,2),J=w[0],_=w[1],M=Object(m.useState)(0),W=Object(o.a)(M,2),z=(W[0],W[1],Object(m.useState)({})),V=Object(o.a)(z,2),F=V[0],G=V[1],L=Object(m.useState)({}),Q=Object(o.a)(L,2),U=Q[0],H=Q[1],K=Object(m.useState)({}),X=Object(o.a)(K,2),Y=X[0],Z=X[1],$=Object(m.useState)([{productId:"",availableQty:"",qty:1,price:"",Size:"",unitType:"",totalprice:""}]),ee=Object(o.a)($,2),te=(ee[0],ee[1],Object(c.g)()),ae=Object(c.i)();Object(m.useEffect)((function(){var e=null===ae||void 0===ae?void 0:ae.id;0==e?A("Create"):(A("Edit"),Object(h.id)(O.be,e).then((function(e){var t,a;console.log(null===e||void 0===e?void 0:e.Product);var l=null===e||void 0===e?void 0:e.Product;H(null===l||void 0===l?void 0:l.partyId),_(null===l||void 0===l||null===(t=l.partyId)||void 0===t?void 0:t._id);var n={Paymentmode:null===l||void 0===l?void 0:l.paymentMode,PaymentType:null===l||void 0===l?void 0:l.paymentType,Amount:null===l||void 0===l?void 0:l.amount,Date:null===l||void 0===l||null===(a=l.createdAt)||void 0===a?void 0:a.split("T")[0],Note:null===l||void 0===l?void 0:l.note,Title:null===l||void 0===l?void 0:l.title,InstrumentNumber:null===l||void 0===l?void 0:l.instrumentNo};C(null===l||void 0===l?void 0:l.paymentType),Z(n)})).catch((function(e){console.log(e)})));var t=JSON.parse(localStorage.getItem("userData"));Object(h.m)(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.database).then((function(e){var t=null===e||void 0===e?void 0:e.Customer;(null===t||void 0===t?void 0:t.length)&&R(t)})).catch((function(e){console.log(e)}))}),[]),Object(m.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));G(e)}),[]);console.log(Y);var le=function(e){var t=e.target,a=t.name,o=t.value;Z(Object(n.a)(Object(n.a)({},Y),{},Object(l.a)({},a,o)))};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"m-2"},r.a.createElement(d.a,{className:""},r.a.createElement("div",null,r.a.createElement("h1",{className:""},q&&q," Receipt"))),r.a.createElement(d.a,null,r.a.createElement(c.b,{render:function(e){var t=e.history;return r.a.createElement(v.a,{className:"btn float-right",color:"danger",size:"sm",onClick:function(){return t.goBack()}},"Back")}}))),r.a.createElement(s.a,null,r.a.createElement(E.a,{className:"m-1",onSubmit:function(e){e.preventDefault();var t=null===ae||void 0===ae?void 0:ae.id,a={created_by:null===F||void 0===F?void 0:F._id,paymentType:null===Y||void 0===Y?void 0:Y.PaymentType,paymentMode:null===Y||void 0===Y?void 0:Y.Paymentmode,partyId:J||null,amount:(null===Y||void 0===Y?void 0:Y.Amount)?Number(null===Y||void 0===Y?void 0:Y.Amount):null,instrumentNo:(null===Y||void 0===Y?void 0:Y.InstrumentNumber)?null===Y||void 0===Y?void 0:Y.InstrumentNumber:null,note:(null===Y||void 0===Y?void 0:Y.Note)?null===Y||void 0===Y?void 0:Y.Note:null,title:(null===Y||void 0===Y?void 0:Y.Title)?null===Y||void 0===Y?void 0:Y.Title:null,database:null===F||void 0===F?void 0:F.database,type:"Received"};0==t?g?j()("Error occured while Entering Details"):Object(h.kd)(O.J,a).then((function(e){te.goBack(),j()("Added Successfully"),console.log(e)})).catch((function(e){j()("Somthing went Wrong"),console.log(e)})):Object(h.ld)(O.Gd,t,a).then((function(e){console.log(e),j()("Updated Successfully"),te.goBack()})).catch((function(e){console.log(e),j()("Something Went Wrong")}))}},r.a.createElement(i.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Choose Paymen Mode"),r.a.createElement(p.a,{required:!0,value:null===Y||void 0===Y?void 0:Y.Paymentmode,name:"Paymentmode",onChange:le,type:"select"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"Cash"},"Cash"),r.a.createElement("option",{value:"Bank"},"Bank"))),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Choose Payment Type"),r.a.createElement(p.a,{required:!0,value:null===Y||void 0===Y?void 0:Y.PaymentType,name:"PaymentType",onChange:function(e){C(e.target.value),le(e)},type:"select"},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",{value:"partyPaymentReceived"},"Party Payment Received"),r.a.createElement("option",{value:"otherReceived"},"Other")))),P&&"partyPaymentReceived"==P&&r.a.createElement(i.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(b.a,null,"Choose Party"),r.a.createElement(N.a,{required:!0,selectedValues:[U],selectionLimit:1,isObject:"false",options:D,onSelect:function(e,t){return function(e,t){_(null===t||void 0===t?void 0:t._id)}(0,t)},onRemove:function(e,t,a){console.log(e)},displayValue:"OwnerName"}))),(null===Y||void 0===Y?void 0:Y.Paymentmode)&&"Bank"==(null===Y||void 0===Y?void 0:Y.Paymentmode)&&r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Instrument/Trx Number *"),r.a.createElement(y.a,{required:!0,placeholder:"Enter Instrument Number",type:"text",value:null===Y||void 0===Y?void 0:Y.InstrumentNumber,name:"InstrumentNumber",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Amount"),r.a.createElement(y.a,{required:!0,placeholder:"Enter Amount",type:"number",value:null===Y||void 0===Y?void 0:Y.Amount,name:"Amount",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Date"),r.a.createElement(y.a,{required:!0,type:"date",value:null===Y||void 0===Y?void 0:Y.Date,name:"Date",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Note :"),r.a.createElement("textarea",{required:!0,type:"text",placeholder:"Enter Notes ...",className:"form-control",value:null===Y||void 0===Y?void 0:Y.Note,name:"Note",onChange:le}))),P&&"otherReceived"==P&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Title"),r.a.createElement(y.a,{required:!0,type:"text",placeholder:"Enter Title ",name:"Title",value:null===Y||void 0===Y?void 0:Y.Title,onChange:le})),(null===Y||void 0===Y?void 0:Y.Paymentmode)&&"Bank"==(null===Y||void 0===Y?void 0:Y.Paymentmode)&&r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Instrument/Trx Number *"),r.a.createElement(y.a,{required:!0,placeholder:"Enter Instrument Number",type:"text",value:null===Y||void 0===Y?void 0:Y.InstrumentNumber,name:"InstrumentNumber",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Amount"),r.a.createElement(y.a,{required:!0,type:"number",placeholder:"Enter Amount",value:null===Y||void 0===Y?void 0:Y.Amount,name:"Amount",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Date"),r.a.createElement(y.a,{required:!0,type:"date",value:null===Y||void 0===Y?void 0:Y.Date,name:"Date",onChange:le})),r.a.createElement(d.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},r.a.createElement(b.a,null,"Note :"),r.a.createElement("textarea",{required:!0,type:"text",placeholder:"Enter Note...",className:"form-control",value:null===Y||void 0===Y?void 0:Y.Note,name:"Note",onChange:le})))),r.a.createElement(i.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(v.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=481.bb611ac9.chunk.js.map