(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[448],{3013:function(e,t,a){"use strict";a.r(t);var l=a(7),n=a(25),c=a(24),r=a(1),o=a.n(r),i=(a(232),a(909)),u=a(901),m=a(902),s=a(243),d=a(913),v=a(903),b=a(904),E=a(905),p=(a(233),a(134)),f=a.n(p),y=(a(231),a(53)),g=a(83),O=[],N=[];t.default=function(e){var t=Object(r.useState)(""),a=Object(c.a)(t,2),p=(a[0],a[1]),j=Object(r.useState)(""),S=Object(c.a)(j,2),h=S[0],q=(S[1],Object(r.useState)("")),P=Object(c.a)(q,2),Q=P[0],R=(P[1],Object(r.useState)([])),C=Object(c.a)(R,2),T=C[0],D=C[1],_=Object(r.useState)([]),x=Object(c.a)(_,2),I=x[0],k=(x[1],Object(r.useState)([])),z=Object(c.a)(k,2),w=z[0],J=z[1],L=Object(r.useState)(""),A=Object(c.a)(L,2),G=(A[0],A[1],Object(r.useState)(0)),M=Object(c.a)(G,2),U=M[0],V=M[1],B=Object(r.useState)(0),F=Object(c.a)(B,2),K=(F[0],F[1],Object(r.useState)({})),X=Object(c.a)(K,2),H=X[0],W=X[1],Y=Object(r.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(r.useState)([{product:"",productId:"",availableQty:"",qty:1,price:"",totalprice:"",unitQty:"",Size:"",unitType:""}]),ae=Object(c.a)(te,2),le=ae[0],ne=ae[1],ce=Object(g.g)(),re=function(e,t,a){if(!(a>=e.target.value))return null;p(t);var l=e.target,c=l.name,r=l.value,o=Object(n.a)(le);o[t][c]=r;var i=0;o.length>0&&(i=(null===o||void 0===o?void 0:o.map((function(e){return console.log(e.qty*e.price),o[t].totalprice=e.qty*e.price,e.qty*e.price}))).reduce((function(e,t){return e+t})),console.log("GrandTotal",i)),console.log(o),ne(o),V(i),console.log(O)};Object(r.useEffect)((function(){console.log(le),console.log(O)}),[le,O]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"))._id;Object(y.Kb)(e).then((function(e){console.log(e.Product),D(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)})),Object(y.t)().then((function(e){console.log(e.Party),J(e.Party)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),W(e)}),[]);var oe=function(){ne([].concat(Object(n.a)(le),[{product:"",productId:"",availableQty:"",qty:1,price:"",totalprice:""}]))},ie=function(e){var t=Object(n.a)(le);t.splice(e,1),O.splice(e,1);var a=O.reduce((function(e,t){return e+t}));V(a),ne(t)},ue=function(e,t,a){console.log(e),console.log(a)};return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(i.a,null,o.a.createElement(u.a,{className:"m-2"},o.a.createElement(m.a,{className:""},o.a.createElement("div",null,o.a.createElement("h1",{className:""},"Place Order"))),o.a.createElement(m.a,{className:""},o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(s.a,{className:"btn float-right",color:"warning",onClick:function(){return ce.push("/app/AjGroup/order/placeOrderList")}},"Back")))),o.a.createElement(d.a,null,o.a.createElement(v.a,{className:"m-1",onSubmit:function(e){e.preventDefault(),console.log("Final ",le);var t=H.firstName+" "+(null===H||void 0===H?void 0:H.lastName),a={userId:null===H||void 0===H?void 0:H._id,fullName:t,address:null===H||void 0===H?void 0:H.Address,grandTotal:U,MobileNo:null===H||void 0===H?void 0:H.mobileNumber,country:null===H||void 0===H?void 0:H.Country,state:null===H||void 0===H?void 0:H.State,city:null===H||void 0===H?void 0:H.City,orderItems:le};Q?swal("Error occured while Entering Details"):Object(y.Xb)(a).then((function(e){console.log(e),swal("Order Place Successfully")})).catch((function(e){console.log(e)}))}},o.a.createElement(u.a,null,o.a.createElement(m.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Choose Party"),o.a.createElement(f.a,{required:!0,selectionLimit:1,isObject:"false",options:w,onSelect:function(e,t){return function(e,t,a){ne((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[a]);return r.partyId=null===t||void 0===t?void 0:t._id,c[a]=r,c}))}(0,t,h)},onRemove:ue,displayValue:"firstName"}))),o.a.createElement(m.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Expected Delivery Date"),o.a.createElement(E.a,{required:!0,type:"date",name:"DateofDelivery",value:$,onChange:function(e){return ee(e.target.value)}}))),o.a.createElement(m.a,{className:"mb-1",lg:"4",md:"4",sm:"12"})),le&&(null===le||void 0===le?void 0:le.map((function(e,t){return o.a.createElement(u.a,{className:"",key:t},o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"ProductName"),o.a.createElement(f.a,{required:!0,selectionLimit:1,isObject:"false",options:T,onSelect:function(e,a){return function(e,t,a){N.push(t),ne((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[a]);r.price=t.Product_MRP,r.productId=t._id,r.availableQty=t.Size,c[a]=r;var o=null===e||void 0===e?void 0:e.map((function(e,t){var l,n=(null===e||void 0===e?void 0:e.qty)*(null===(l=N[t])||void 0===l?void 0:l.Product_MRP);return O[a]=n,n}));console.log(o);var i=o.reduce((function(e,t){return e+t}));return V(i),c}))}(0,a,t)},onRemove:function(e,a){ue(e,0,t)},displayValue:"Product_Title"}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Available Size"),o.a.createElement(E.a,{type:"number",name:"qty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.availableQty,onChange:function(e){return re(e,t)}}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Required Qty"),o.a.createElement(E.a,{type:"number",name:"qty",placeholder:"Req_Qty",autocomplete:"off",value:null===e||void 0===e?void 0:e.qty,onChange:function(a){return re(a,t,null===e||void 0===e?void 0:e.availableQty)}}))),o.a.createElement(m.a,{className:"mb-1"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Choose Unit"),o.a.createElement(f.a,{required:!0,selectionLimit:1,isObject:"false",options:I,onSelect:function(e,a){return function(e,t,a){SelectedSize.push(t),ne((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[a]);r.Size=t.unitQty,r.unitType=t.primaryUnit,c[a]=r;var o=(null===e||void 0===e?void 0:e.map((function(e,t){var l,n;c[a].totalprice=(null===e||void 0===e?void 0:e.qty)*e.price*(null===(l=SelectedSize[t])||void 0===l?void 0:l.unitQty);var r=(null===e||void 0===e?void 0:e.price)*e.qty*(null===(n=SelectedSize[t])||void 0===n?void 0:n.unitQty);return O[a]=r,r}))).reduce((function(e,t){return e+t}));return V(o),c}))}(0,a,t)},onRemove:function(e,a){ue(e,0,t)},displayValue:"primaryUnit"}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Price"),o.a.createElement(E.a,{type:"number",name:"price",readOnly:!0,placeholder:"Price",value:e.price}))),o.a.createElement(m.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(b.a,null,"Total Price"),o.a.createElement(E.a,{type:"number",name:"totalprice",readOnly:!0,placeholder:"TtlPrice",value:e.price*(null===e||void 0===e?void 0:e.qty)}))),o.a.createElement(m.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},o.a.createElement("div",{className:"btnStyle"},t?o.a.createElement(s.a,{type:"button",color:"danger",className:"button remove ",onClick:function(){return ie(t)}},"-"):null),o.a.createElement("div",{className:"btnStyle"},o.a.createElement(s.a,{className:"ml-1 mb-1",color:"primary",type:"button",onClick:function(){return oe()}},"+"))))}))),o.a.createElement(u.a,null,o.a.createElement(m.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},o.a.createElement("div",{className:" d-flex justify-content-end"},o.a.createElement("ul",{className:"subtotal"},o.a.createElement("li",null,o.a.createElement(b.a,{className:""},"SubTotal : ",o.a.createElement("strong",null,U))),o.a.createElement("li",null,o.a.createElement(b.a,{className:""},"Shipping Cost : ",o.a.createElement("strong",null,"RS 50"))),o.a.createElement("li",null,o.a.createElement(b.a,{className:""},"Tax: ",o.a.createElement("strong",null,"RS 25"))),o.a.createElement("li",null,o.a.createElement(b.a,{className:""},"Discount : ",o.a.createElement("strong",null,"RS 5"))),o.a.createElement("li",null," ",o.a.createElement(b.a,{className:"pr-5"},"Grand Total :"," ",o.a.createElement("strong",null,U+50+25+5))))))),o.a.createElement(u.a,null,o.a.createElement(m.a,null,o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(s.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=448.28033591.chunk.js.map