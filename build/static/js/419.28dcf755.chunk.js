(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[419],{2987:function(e,a,t){"use strict";t.r(a);var l=t(7),n=t(24),c=t(26),r=t(1),o=t.n(r),m=(t(225),t(901)),u=t(893),i=t(894),s=t(905),d=t(895),v=t(896),b=t(897),E=t(237),p=(t(226),t(164)),f=t.n(p),y=(t(224),t(61)),g=[],N=[];a.default=function(e){var a=Object(r.useState)(""),t=Object(c.a)(a,2),p=(t[0],t[1]),O=Object(r.useState)(""),j=Object(c.a)(O,2),S=j[0],h=(j[1],Object(r.useState)("")),P=Object(c.a)(h,2),q=P[0],R=(P[1],Object(r.useState)([])),C=Object(c.a)(R,2),D=C[0],I=C[1],Q=Object(r.useState)([]),T=Object(c.a)(Q,2),_=T[0],x=T[1],k=Object(r.useState)(0),w=Object(c.a)(k,2),J=w[0],M=w[1],z=Object(r.useState)({}),A=Object(c.a)(z,2),G=A[0],L=A[1],V=Object(r.useState)(""),F=Object(c.a)(V,2),B=F[0],H=F[1],K=Object(r.useState)([{product:"",productId:"",availableQty:"",qty:1,price:"",totalprice:"",partyId:""}]),U=Object(c.a)(K,2),W=U[0],X=U[1],Y=function(e,a,t){if(!(t>=e.target.value))return null;p(a);var l=e.target,c=l.name,r=l.value,o=Object(n.a)(W);o[a][c]=r;var m=0;o.length>0&&(m=(null===o||void 0===o?void 0:o.map((function(e){return console.log(e.qty*e.price),o[a].totalprice=e.qty*e.price,e.qty*e.price}))).reduce((function(e,a){return e+a})),console.log("GrandTotal",m)),console.log(o),X(o),M(m),console.log(g)};Object(r.useEffect)((function(){console.log(W),console.log(g)}),[W,g]),Object(r.useEffect)((function(){Object(y.Cb)().then((function(e){console.log(e.Product),I(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)})),Object(y.s)().then((function(e){console.log(e.Party),x(e.Party)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),L(e)}),[]);var Z=function(){X([].concat(Object(n.a)(W),[{product:"",productId:"",availableQty:"",qty:1,price:"",totalprice:""}]))},$=function(e){var a=Object(n.a)(W);a.splice(e,1),g.splice(e,1);var t=g.reduce((function(e,a){return e+a}));M(t),X(a)},ee=function(e,a,t){console.log(e),console.log(t)};return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(m.a,null,o.a.createElement(u.a,{className:"m-2"},o.a.createElement(i.a,{className:""},o.a.createElement("div",null,o.a.createElement("h1",{className:""},"Place Order")))),o.a.createElement(s.a,null,o.a.createElement(d.a,{className:"m-1",onSubmit:function(e){e.preventDefault(),console.log("Final ",W);var a=G.firstName+" "+(null===G||void 0===G?void 0:G.lastName),t={userId:null===G||void 0===G?void 0:G._id,fullName:a,address:null===G||void 0===G?void 0:G.Address,grandTotal:J,MobileNo:null===G||void 0===G?void 0:G.mobileNumber,country:null===G||void 0===G?void 0:G.Country,state:null===G||void 0===G?void 0:G.State,city:null===G||void 0===G?void 0:G.City,orderItems:W};q?swal("Error occured while Entering Details"):Object(y.Nb)(t).then((function(e){console.log(e),swal("Order Place Successfully")})).catch((function(e){console.log(e)}))}},o.a.createElement(u.a,null,o.a.createElement(i.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Choose Party"),o.a.createElement(f.a,{required:!0,selectionLimit:1,isObject:"false",options:_,onSelect:function(e,a){return function(e,a,t){X((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[t]);return r.partyId=null===a||void 0===a?void 0:a._id,c[t]=r,c}))}(0,a,S)},onRemove:ee,displayValue:"firstName"}))),o.a.createElement(i.a,{className:"mb-1",lg:"4",md:"4",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Expected Delivery Date"),o.a.createElement(b.a,{required:!0,type:"date",name:"DateofDelivery",value:B,onChange:function(e){return H(e.target.value)}}))),o.a.createElement(i.a,{className:"mb-1",lg:"4",md:"4",sm:"12"})),W&&(null===W||void 0===W?void 0:W.map((function(e,a){return o.a.createElement(u.a,{className:"",key:a},o.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"ProductName"),o.a.createElement(f.a,{required:!0,selectionLimit:1,isObject:"false",options:D,onSelect:function(e,t){return function(e,a,t){N.push(a),X((function(e){var c=Object(n.a)(e),r=Object(l.a)({},c[t]);r.price=a.Product_MRP,r.productId=a._id,r.availableQty=a.Size,c[t]=r;var o=null===e||void 0===e?void 0:e.map((function(e,a){var l,n=(null===e||void 0===e?void 0:e.qty)*(null===(l=N[a])||void 0===l?void 0:l.Product_MRP);return g[t]=n,n}));console.log(o);var m=o.reduce((function(e,a){return e+a}));return M(m),c}))}(0,t,a)},onRemove:function(e,t){ee(e,0,a)},displayValue:"Product_Title"}))),o.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Available Size"),o.a.createElement(b.a,{type:"number",name:"qty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.availableQty,onChange:function(e){return Y(e,a)}}))),o.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Required Qty"),o.a.createElement(b.a,{type:"number",name:"qty",placeholder:"Req_Qty",autocomplete:"off",value:null===e||void 0===e?void 0:e.qty,onChange:function(t){return Y(t,a,null===e||void 0===e?void 0:e.availableQty)}}))),o.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Price"),o.a.createElement(b.a,{type:"number",name:"price",readOnly:!0,placeholder:"Price",value:e.price}))),o.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},o.a.createElement("div",{className:""},o.a.createElement(v.a,null,"Total Price"),o.a.createElement(b.a,{type:"number",name:"totalprice",readOnly:!0,placeholder:"TtlPrice",value:e.price*(null===e||void 0===e?void 0:e.qty)}))),o.a.createElement(i.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},o.a.createElement("div",{className:"btnStyle"},a?o.a.createElement(E.a,{type:"button",color:"danger",className:"button remove ",onClick:function(){return $(a)}},"-"):null),o.a.createElement("div",{className:"btnStyle"},o.a.createElement(E.a,{className:"ml-1 mb-1",color:"primary",type:"button",onClick:function(){return Z()}},"+"))))}))),o.a.createElement(u.a,null,o.a.createElement(i.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},o.a.createElement("div",{className:" d-flex justify-content-end"},o.a.createElement("ul",{className:"subtotal"},o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"SubTotal : ",o.a.createElement("strong",null,J))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Shipping Cost : ",o.a.createElement("strong",null,"RS 50"))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Tax: ",o.a.createElement("strong",null,"RS 25"))),o.a.createElement("li",null,o.a.createElement(v.a,{className:""},"Discount : ",o.a.createElement("strong",null,"RS 5"))),o.a.createElement("li",null," ",o.a.createElement(v.a,{className:"pr-5"},"Grand Total :"," ",o.a.createElement("strong",null,J+50+25+5))))))),o.a.createElement(u.a,null,o.a.createElement(i.a,null,o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(E.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=419.28dcf755.chunk.js.map