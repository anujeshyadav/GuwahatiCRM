{"version":3,"sources":["views/apps/freshlist/accounts/AssignTeamMember.js"],"names":["i","SelectedChild","SetAllHeadOfdepartment","AssignTeamMember","useState","DepartmentWithRole","setDepartmentWithRole","SelectedDepartment","setSelectedDepartment","SelectedDepartments","setSelectedDepartments","ShowParentList","setShowParentList","setALLheadsofDept","ShowChildList","setShowChildList","Show","setShow","Child","setChild","SelectedParentForHeirarchy","setSelectedParentForHeirarchy","setSelectedChildForHeirarchy","NoChild","setNoChild","setLoader","Party","setParty","setHeadOfDepartment","Parent","setParent","ParentName","setParentName","setSelectedRoleId","ChildList","setChildList","AllUsersList","setAllUsersList","UserList","userData","JSON","parse","localStorage","getItem","_Get","All_Users_List","database","then","res","User","filter","ele","created_by","catch","err","console","log","useEffect","Deptartment_with_Role","Department","handleSubmit","e","preventDefault","ParentID","_id","child","map","id","payload","parentId","childs","_PostSave","User_Assign_User","swal","className","lg","md","render","history","style","cursor","color","onClick","goBack","value","onChange","target","roles","forEach","val","index","rolePosition","push","allHeadUsers","rolename","roleId","selectedDepartment","type","data-name","departmentName","selected","options","selectedIndex","getAttribute","split","name","slice","join","roleName","Number","ParentList","length","readOnly","sm","borderRight","responsive","key","scope","firstName","lastName","position","margin","checked","indexOf","splice","handleSaveChild"],"mappings":"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","file":"static/js/421.d97989aa.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  CustomInput,\r\n  Input,\r\n  Label,\r\n  Row,\r\n  Spinner,\r\n  Table,\r\n} from \"reactstrap\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { _Get, _PostSave } from \"../../../../ApiEndPoint/ApiCalling\";\r\nimport {\r\n  All_Users_List,\r\n  Deptartment_with_Role,\r\n  User_Assign_User,\r\n} from \"../../../../ApiEndPoint/Api\";\r\nimport swal from \"sweetalert\";\r\nlet SelectedChild = [];\r\nlet SetAllHeadOfdepartment = [];\r\nconst AssignTeamMember = () => {\r\n  const [DepartmentWithRole, setDepartmentWithRole] = useState([]);\r\n  const [SelectedDepartment, setSelectedDepartment] = useState([]);\r\n  const [SelectedDepartments, setSelectedDepartments] = useState([]);\r\n  const [ShowParentList, setShowParentList] = useState([]);\r\n  const [ALLheadsofDept, setALLheadsofDept] = useState([]);\r\n  const [ShowChildList, setShowChildList] = useState([]);\r\n  const [Show, setShow] = useState(false);\r\n  const [Child, setChild] = useState(false);\r\n  const [SelectedParentForHeirarchy, setSelectedParentForHeirarchy] = useState(\r\n    {}\r\n  );\r\n  const [SelectedChildForHeirarchy, setSelectedChildForHeirarchy] = useState(\r\n    []\r\n  );\r\n  const [NoChild, setNoChild] = useState(false);\r\n  const [Loader, setLoader] = useState(false);\r\n  const [Party, setParty] = useState(false);\r\n  const [HeadOfDepartment, setHeadOfDepartment] = useState(false);\r\n  const [Parent, setParent] = useState(\"\");\r\n  const [ParentName, setParentName] = useState(\"\");\r\n  const [SelectedRoleId, setSelectedRoleId] = useState(\"\");\r\n  const [ChildList, setChildList] = useState([]);\r\n  const [AllUsersList, setAllUsersList] = useState([]);\r\n\r\n  const UserList = () => {\r\n    let userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    _Get(All_Users_List, userData?.database)\r\n      .then((res) => {\r\n        // console.log(res?.User);\r\n        let WithoutCreatedBy = res?.User?.filter((ele, i) => !ele?.created_by);\r\n        setAllUsersList(res?.User);\r\n        // if (WithoutCreatedBy?.length) {\r\n        //   setAllUsersList(WithoutCreatedBy);\r\n        // }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    let userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n\r\n    UserList();\r\n    _Get(Deptartment_with_Role, userData?.database)\r\n      .then((res) => {\r\n        setDepartmentWithRole(res?.Department);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const handleSaveParent = (parent) => {\r\n    setSelectedParentForHeirarchy(parent);\r\n  };\r\n  const handleSaveChild = (child, e) => {\r\n    if (e.target.checked) {\r\n      SelectedChild.push(child);\r\n\r\n      setSelectedChildForHeirarchy(child);\r\n    } else {\r\n      let index = SelectedChild?.indexOf(child);\r\n      setSelectedChildForHeirarchy(SelectedChild.splice(index, 1));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // setLoader(true);\r\n    let ParentID = SelectedParentForHeirarchy?._id;\r\n    let child = SelectedChild?.map((ele, i) => {\r\n      return {\r\n        id: ele?._id,\r\n      };\r\n    });\r\n    let payload = {\r\n      parentId: ParentID,\r\n      childs: child,\r\n    };\r\n\r\n    await _PostSave(User_Assign_User, payload)\r\n      .then((res) => {\r\n        setLoader(false);\r\n        // console.log(res);\r\n\r\n        UserList();\r\n        setSelectedDepartment([]);\r\n        setShowParentList([]);\r\n        setParent(\"\");\r\n        setShowChildList([]);\r\n        setChild(false);\r\n        setChildList([]);\r\n        SelectedChild = [];\r\n        swal(\"Assigned Successfully\");\r\n      })\r\n      .catch((err) => {\r\n        setLoader(false);\r\n        swal(\"Something Went Wrong\");\r\n        console.log(err);\r\n      });\r\n  };\r\n  console.log(ShowChildList);\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <CardBody>\r\n          <div className=\" m-2\">\r\n            <Row className=\"\">\r\n              <Col>\r\n                <h1>Assign Team To Parent Node</h1>\r\n              </Col>\r\n              <Col lg=\"2\" md=\"2\">\r\n                <div className=\"float-right\">\r\n                  <Route\r\n                    render={({ history }) => (\r\n                      <Button\r\n                        style={{ cursor: \"pointer\" }}\r\n                        className=\"float-right mr-1\"\r\n                        color=\"primary\"\r\n                        onClick={() => history.goBack()}>\r\n                        {\" \"}\r\n                        Back\r\n                      </Button>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className=\" m-2\">\r\n            <Row className=\"\">\r\n              <Col lg=\"3\" md=\"3\">\r\n                <Label>Select Department</Label>\r\n                <CustomInput\r\n                  value={SelectedDepartments}\r\n                  onChange={(e) => {\r\n                    setChild(false);\r\n\r\n                    setSelectedDepartments(e.target.value);\r\n                    if (e.target.value == 0) {\r\n                      setShow(false);\r\n                    }\r\n                    e.target.value ? setShow(true) : setShow(false);\r\n                    if (e.target.value == 0) {\r\n                      setShow(false);\r\n                    }\r\n                    if (e.target.value == \"All_Dept_Heads\") {\r\n                      SetAllHeadOfdepartment = [];\r\n                      setShow(false);\r\n\r\n                      DepartmentWithRole?.map((ele, i) => {\r\n                        ele?.roles?.forEach((val, index) => {\r\n                          if (val?.rolePosition == 1) {\r\n                            SetAllHeadOfdepartment?.push(val);\r\n                          }\r\n                        });\r\n                      });\r\n                      setALLheadsofDept(SetAllHeadOfdepartment);\r\n                      let allHeadUsers = [];\r\n                      SetAllHeadOfdepartment?.map((ele, i) => {\r\n                        AllUsersList?.forEach((val, i) => {\r\n                          if (val?.rolename?._id == ele?.roleId?._id) {\r\n                            allHeadUsers.push(val);\r\n                          }\r\n                        });\r\n                      });\r\n\r\n                      setShowChildList(allHeadUsers);\r\n                      // if (allHeadUsers?.length) {\r\n                      //   setChild(true);\r\n                      // }\r\n                      let userData = JSON.parse(\r\n                        localStorage.getItem(\"userData\")\r\n                      );\r\n\r\n                      let arr = [userData];\r\n                      setShowParentList(arr);\r\n                      // setChildList(SelectedChild);\r\n                    } else {\r\n                      let selectedDepartment = DepartmentWithRole?.filter(\r\n                        (ele, i) => ele?._id == e.target.value\r\n                      );\r\n                      setSelectedDepartment(selectedDepartment[0]?.roles);\r\n                    }\r\n                  }}\r\n                  type=\"select\">\r\n                  <option value=\"0\">--Select Department--</option>\r\n                  <option value=\"All_Dept_Heads\">All Department Head</option>\r\n                  {DepartmentWithRole &&\r\n                    DepartmentWithRole?.map((ele, i) => (\r\n                      <option\r\n                        data-name={`${ele?._id} ${ele?.database}`}\r\n                        value={ele?._id}>\r\n                        {ele?.departmentName?.departmentName}\r\n                      </option>\r\n                    ))}\r\n                </CustomInput>\r\n              </Col>\r\n              {Show && Show && (\r\n                <Col lg=\"3\" md=\"3\">\r\n                  <Label>Select Parent Role</Label>\r\n                  <CustomInput\r\n                    value={Parent}\r\n                    onChange={(e) => {\r\n                      if (e.target.value == \"NA\") {\r\n                        setChild(false);\r\n                        setParent(e.target.value);\r\n                      } else {\r\n                        const selected = e.target.options[\r\n                          e.target.selectedIndex\r\n                        ]\r\n                          .getAttribute(\"data-name\")\r\n                          ?.split(\" \");\r\n\r\n                        if (selected[0] === 1) {\r\n                          // pass created by\r\n                          setHeadOfDepartment(true);\r\n                        }\r\n                        const name = selected.slice(2).join(\" \");\r\n                        let child = [];\r\n                        if (name == \"Sales Person\") {\r\n                          child = AllUsersList?.filter(\r\n                            (ele) => ele?.rolename?.roleName == \"Customer\"\r\n                          );\r\n                        } else {\r\n                          debugger;\r\n                          child = SelectedDepartment?.filter(\r\n                            (ele) =>\r\n                              ele?.rolePosition == Number(selected[0]) + 1\r\n                          );\r\n                        }\r\n\r\n                        let ParentList = AllUsersList?.filter(\r\n                          (ele) => ele?.rolename?._id == selected[1]\r\n                        );\r\n                        setShowParentList(ParentList);\r\n                        setParent(e.target.value);\r\n                        setParentName(name);\r\n                        setSelectedRoleId(selected[1]);\r\n\r\n                        if (child?.length) {\r\n                          let ChildList = [];\r\n                          if (name == \"Sales Person\") {\r\n                            setShowChildList(child);\r\n                            setParty(true);\r\n                            // setShowChildList(ChildList);\r\n                            setChild(true);\r\n                            setChildList(child);\r\n                          } else {\r\n                            ChildList = AllUsersList?.filter(\r\n                              (ele) =>\r\n                                ele?.rolename?._id == child[0]?.roleId?._id\r\n                            );\r\n                            setShowChildList(ChildList);\r\n                            setChild(true);\r\n                            setParty(false);\r\n\r\n                            setChildList(child);\r\n                          }\r\n                        } else {\r\n                          setChildList([]);\r\n                          setShowChildList([]);\r\n                          setNoChild(true);\r\n                          setChild(false);\r\n                        }\r\n                      }\r\n                    }}\r\n                    type=\"select\">\r\n                    <option value=\"NA\">--Select Role--</option>\r\n                    {SelectedDepartment &&\r\n                      SelectedDepartment?.map((ele, i) => (\r\n                        <option\r\n                          data-name={`${ele?.rolePosition} ${ele?.roleId?._id} ${ele?.roleName}`}\r\n                          value={ele?._id}>\r\n                          {ele?.roleName} (Position-\r\n                          {ele?.rolePosition})\r\n                        </option>\r\n                      ))}\r\n                  </CustomInput>\r\n                </Col>\r\n              )}\r\n              {Child && Child ? (\r\n                <>\r\n                  <Col lg=\"3\" md=\"3\">\r\n                    <Label>Next Child</Label>\r\n                    <Input\r\n                      readOnly\r\n                      type=\"text\"\r\n                      value={ChildList[0]?.roleName && ChildList[0]?.roleName}\r\n                    />\r\n                  </Col>\r\n                  {SelectedChild && SelectedChild?.length > 0 && (\r\n                    <Col lg=\"3\" md=\"3\">\r\n                      <Button\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleSubmit(e)}\r\n                        className=\"mt-2\">\r\n                        Submit\r\n                      </Button>\r\n                    </Col>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  {NoChild && NoChild && (\r\n                    <Col lg=\"3\" md=\"3\">\r\n                      <Label style={{ color: \"red\" }}>\r\n                        No Next Child Found\r\n                      </Label>\r\n                      <Input readOnly type=\"text\" value=\"No Child Found\" />\r\n                    </Col>\r\n                  )}\r\n                </>\r\n              )}\r\n            </Row>\r\n          </div>\r\n          <hr />\r\n          <div className=\"p-2\">\r\n            <Row>\r\n              {ShowParentList && ShowParentList?.length > 0 && (\r\n                <Col lg=\"6\" md=\"6\" sm=\"6\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <h2>\r\n                      <strong>\r\n                        {ParentName && ParentName ? (\r\n                          <> {ParentName} (Parent)</>\r\n                        ) : (\r\n                          \"Head\"\r\n                        )}{\" \"}\r\n                        Users List\r\n                      </strong>\r\n                    </h2>\r\n                  </div>\r\n                  <div\r\n                    className=\"p-1\"\r\n                    style={{\r\n                      borderRight: \"1px solid black\",\r\n                    }}>\r\n                    <Table\r\n                      className=\"table_heading\"\r\n                      style={{ cursor: \"pointer\" }}\r\n                      responsive>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>#</th>\r\n                          <th>Assigned To</th>\r\n                          <th>First Name</th>\r\n                          <th>Last Name</th>\r\n                          {/* <th>Mobile Number</th>\r\n                          <th>email</th>\r\n                          <th>State</th>\r\n                          <th>City</th> */}\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {ShowParentList && ShowParentList?.length ? (\r\n                          <>\r\n                            {ShowParentList &&\r\n                              ShowParentList?.map((ele, i) => {\r\n                                return (\r\n                                  <tr key={ele?._id}>\r\n                                    <th scope=\"row\">\r\n                                      <input\r\n                                        name=\"Parent\"\r\n                                        value=\"checkbox1\"\r\n                                        type=\"radio\"\r\n                                        onClick={(e) => handleSaveParent(ele)}\r\n                                      />\r\n                                    </th>\r\n                                    <td>\r\n                                      {ele?.created_by?.firstName &&\r\n                                        ele?.created_by?.firstName && (\r\n                                          <Badge color=\"primary\">\r\n                                            <strong>\r\n                                              {ele?.created_by?.firstName &&\r\n                                                ele?.created_by?.firstName}\r\n                                            </strong>\r\n                                          </Badge>\r\n                                        )}\r\n                                    </td>\r\n                                    <td>{ele?.firstName}</td>\r\n                                    <td>{ele?.lastName}</td>\r\n                                    {/* <td>{ele?.mobileNumber}</td>\r\n                                    <td>{ele?.email}</td>\r\n                                    <td>{ele?.State}</td>\r\n                                    <td>{ele?.City}</td> */}\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                          </>\r\n                        ) : null}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n                </Col>\r\n              )}\r\n\r\n              {ShowChildList && ShowChildList?.length > 0 && (\r\n                <Col lg=\"6\" md=\"6\" sm=\"6\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <h2>\r\n                      <strong>\r\n                        {ChildList[0]?.roleName && ChildList[0]?.roleName ? (\r\n                          <>\r\n                            {\" \"}\r\n                            {ChildList[0]?.roleName && ChildList[0]?.roleName}\r\n                            (child)\r\n                          </>\r\n                        ) : (\r\n                          <>{Party && Party ? \"Party\" : \"All Dept Head\"}</>\r\n                        )}{\" \"}\r\n                        Users List\r\n                      </strong>\r\n                    </h2>\r\n                  </div>\r\n                  <div className=\"p-1\">\r\n                    <Table\r\n                      className=\"table_heading\"\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                      }}\r\n                      responsive>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>#</th>\r\n                          <th>Assigned To</th>\r\n                          <th>First Name</th>\r\n\r\n                          <th>Last Name</th>\r\n                          {/* <th>Mobile Number</th>\r\n                          <th>email</th>\r\n                          <th>State</th>\r\n                          <th>City</th> */}\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        {ShowChildList &&\r\n                          ShowChildList?.map((ele, i) => {\r\n                            {\r\n                              /* console.log(ele); */\r\n                            }\r\n                            return (\r\n                              <tr key={ele?._id}>\r\n                                <th scope=\"row\">\r\n                                  {\" \"}\r\n                                  {ele?.created_by?.firstName &&\r\n                                  ele?.created_by?.firstName ? null : (\r\n                                    <>\r\n                                      <Input\r\n                                        style={{ position: \"unset\", margin: 0 }}\r\n                                        value=\"checkbox1\"\r\n                                        type=\"checkbox\"\r\n                                        onClick={(e) => handleSaveChild(ele, e)}\r\n                                      />\r\n                                    </>\r\n                                  )}\r\n                                </th>\r\n                                <td>\r\n                                  {!!ele?.created_by?.firstName &&\r\n                                  ele?.created_by?.firstName ? (\r\n                                    <Badge color=\"danger\">\r\n                                      <strong>\r\n                                        {ele?.created_by?.firstName &&\r\n                                          ele?.created_by?.firstName}\r\n                                      </strong>\r\n                                    </Badge>\r\n                                  ) : (\r\n                                    <>\r\n                                      <Badge color=\"primary\">\r\n                                        <strong>Not Assigned</strong>\r\n                                      </Badge>\r\n                                    </>\r\n                                  )}\r\n                                </td>\r\n                                <td>{ele?.firstName}</td>\r\n                                <td>{ele?.lastName}</td>\r\n                                {/* <td>{ele?.mobileNumber}</td>\r\n                                <td>{ele?.email}</td>\r\n                                <td>{ele?.State}</td>\r\n                                <td>{ele?.City}</td> */}\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                      </tbody>\r\n                    </Table>\r\n                  </div>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignTeamMember;\r\n"],"sourceRoot":""}