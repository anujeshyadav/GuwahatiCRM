(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[406],{3096:function(e,t,a){"use strict";a.r(t);var l=a(26),n=a(60),o=a(8),c=a(25),i=a(1),r=a.n(i),u=(a(233),a(910)),m=a(902),d=a(903),s=a(244),v=a(914),p=a(904),E=a(905),b=a(906),O=a(892),g=a(921),j=a(900),f=a(901),y=a(908),h=a(136),N=a.n(h),S=(a(232),a(54)),P=a(84),T=a(6),_=a(96),W=a.n(_),x=[],C=[];t.default=function(e){var t,a=Object(i.useState)({}),h=Object(c.a)(a,2),_=(h[0],h[1],Object(i.useState)({Other_Expenses:100,GSTApplied:18,Other_charges:50,discount:10})),Q=Object(c.a)(_,2),k=Q[0],R=Q[1],q=Object(i.useState)(""),A=Object(c.a)(q,2),M=(A[0],A[1]),U=Object(i.useState)(""),D=Object(c.a)(U,2),I=(D[0],D[1],Object(i.useState)("")),G=Object(c.a)(I,2),F=(G[0],G[1],Object(i.useState)("")),L=Object(c.a)(F,2),V=(L[0],L[1],Object(i.useState)(!1)),J=Object(c.a)(V,2),K=(J[0],J[1],Object(i.useState)("")),w=Object(c.a)(K,2),B=(w[0],w[1],Object(i.useState)([])),H=Object(c.a)(B,2),z=H[0],Y=H[1],X=Object(i.useState)([]),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)([]),ae=Object(c.a)(te,2),le=(ae[0],ae[1],Object(i.useState)([])),ne=Object(c.a)(le,2),oe=(ne[0],ne[1],Object(i.useState)("")),ce=Object(c.a)(oe,2),ie=(ce[0],ce[1],Object(i.useState)({})),re=Object(c.a)(ie,2),ue=re[0],me=re[1],de=Object(i.useState)([]),se=Object(c.a)(de,2),ve=(se[0],se[1],Object(i.useState)("")),pe=Object(c.a)(ve,2),Ee=(pe[0],pe[1],Object(i.useState)(0)),be=Object(c.a)(Ee,2),Oe=be[0],ge=be[1],je=Object(i.useState)([]),fe=Object(c.a)(je,2),ye=(fe[0],fe[1]),he=Object(i.useState)({}),Ne=Object(c.a)(he,2),Se=(Ne[0],Ne[1]),Pe=Object(i.useState)(!1),Te=Object(c.a)(Pe,2),_e=(Te[0],Te[1],Object(i.useState)("")),We=Object(c.a)(_e,2),xe=(We[0],We[1],Object(i.useState)(!1)),Ce=Object(c.a)(xe,2),Qe=(Ce[0],Ce[1],Object(i.useState)([])),ke=Object(c.a)(Qe,2),Re=(ke[0],ke[1]),qe=Object(i.useState)(!1),Ae=Object(c.a)(qe,2),Me=Ae[0],Ue=Ae[1],De=function(){return Ue(!Me)},Ie=function(e){var t=e.target,a=t.name,l=t.value;R(Object(o.a)(Object(o.a)({},k),{},Object(n.a)({},a,l)))},Ge=Object(i.useState)([{product:"",productId:"",selecetedUnit:"",WasteUnit:"",AvailaleQty:null,Waste_Qty:null,WastePrice:"",availableQty:"",transferQty:1,RequiredQty:"",price:"",totalprice:"",Size:"",unitType:"",stockTrxDate:"",targetEndDate:"",discount:"",Shipping:"",tax:"",grandTotal:""}]),Fe=Object(c.a)(Ge,2),Le=Fe[0],Ve=Fe[1],Je=function(e,t){M(t);var a=e.target,n=a.name,o=a.value,c=Object(l.a)(Le);c[t][n]=o,Ve(c)},Ke=function(e,t){M(t);var a=e.target,n=a.name,o=a.value,c=Object(l.a)(Le);c[t][n]=Number(o);var i=0;c.length>0&&(i=(null===c||void 0===c?void 0:c.map((function(e){return x[t]=e.price*e.RequiredQty,c[t].totalprice=e.price*e.RequiredQty,(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))).reduce((function(e,t){return e+t})),console.log("GrandTotal",i));Ve(c),ge(i.toFixed(2))};console.log(k);var we=function(e,t,a){C.splice(a,1);var l=(null===Le||void 0===Le?void 0:Le.map((function(e,l){var n,o;console.log((null===e||void 0===e?void 0:e.qty)*(null===(n=t[l])||void 0===n?void 0:n.Product_MRP));var c=(null===e||void 0===e?void 0:e.qty)*(null===(o=C[l])||void 0===o?void 0:o.Product_MRP);return x[a]=c,c}))).reduce((function(e,t){return e+t}));ge(l)};Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));Object(S.Yc)(null===e||void 0===e?void 0:e._id).then((function(e){console.log(null===e||void 0===e?void 0:e.adminDetails),Re(null===e||void 0===e?void 0:e.adminDetails)})).catch((function(e){console.log(e)})),Object(S.Ec)(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.database).then((function(e){console.log(null===e||void 0===e?void 0:e.Unit),ye(null===e||void 0===e?void 0:e.Unit)})).catch((function(e){console.log(e)}));var t=JSON.parse(localStorage.getItem("userData"));Object(S.Rb)(null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.database).then((function(e){var t,a;console.log(e.Product);var l=null===e||void 0===e||null===(t=e.Product)||void 0===t?void 0:t.filter((function(e){return"Item"==(null===e||void 0===e?void 0:e.addProductType)})),n=null===e||void 0===e||null===(a=e.Product)||void 0===a?void 0:a.filter((function(e){return"Product"==(null===e||void 0===e?void 0:e.addProductType)}));(null===n||void 0===n?void 0:n.length)&&Y(n),(null===l||void 0===l?void 0:l.length)&&ee(l)})).catch((function(e){console.log(e)}))}),[]),Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),Se(e)}),[]);var Be=function(){var e;Ve([].concat(Object(l.a)(Le),[(e={product:"",productId:"",selecetedUnit:"",AvailaleQty:null},Object(n.a)(e,"AvailaleQty",null),Object(n.a)(e,"Waste_Qty",null),Object(n.a)(e,"WastePrice",""),Object(n.a)(e,"availableQty",""),Object(n.a)(e,"transferQty",1),Object(n.a)(e,"RequiredQty",""),Object(n.a)(e,"price",""),Object(n.a)(e,"totalprice",""),Object(n.a)(e,"Size",""),Object(n.a)(e,"unitType",""),Object(n.a)(e,"stockTrxDate",""),Object(n.a)(e,"targetEndDate",""),Object(n.a)(e,"discount",""),Object(n.a)(e,"Shipping",""),Object(n.a)(e,"tax",""),Object(n.a)(e,"grandTotal",""),e)]))},He=function(e){var t=Object(l.a)(Le);t.splice(e,1),x.splice(e,1);var a=x.reduce((function(e,t){return e+t}));ge(a),Ve(t)};return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"m-2"},r.a.createElement(d.a,{lg:"8",md:"8",sm:"8",className:"mb-2 mt-1"},r.a.createElement("div",null,r.a.createElement("h1",{className:""},"Start Production Process"))),r.a.createElement(d.a,null,r.a.createElement("div",{className:"float-right"},r.a.createElement(P.b,{render:function(e){var t=e.history;return r.a.createElement(s.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"primary",onClick:function(){return t.goBack()}}," ","Back")}})))),r.a.createElement(v.a,null,r.a.createElement(p.a,{className:"m-1",onSubmit:function(e){De(),e.preventDefault()}},r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Choose Production Product "),r.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:z,onSelect:function(e,t,a){me(e[0])},onRemove:function(e,t,a){},displayValue:"Product_Title"})))),Le&&(null===Le||void 0===Le?void 0:Le.map((function(e,t){return r.a.createElement(m.a,{className:"",key:t},r.a.createElement(d.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Choose item *"),r.a.createElement(N.a,{required:!0,selectionLimit:1,isObject:"false",options:$,onSelect:function(e,a){return function(e,t,a){C.push(t),Ve((function(e){var n=Object(l.a)(e),c=Object(o.a)({},n[a]);return c.price=null===t||void 0===t?void 0:t.Product_MRP,c.productId=null===t||void 0===t?void 0:t._id,c.discount=null===t||void 0===t?void 0:t.discount,(null===t||void 0===t?void 0:t.unitType)&&(c.unitType=null===t||void 0===t?void 0:t.unitType.split(" ")[1]),n[a]=c,n}))}(0,a,t)},onRemove:function(e,a){we(0,a,t)},displayValue:"Product_Title"}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement("label",{for:"unit"},"Select Unit"),r.a.createElement("select",{required:!0,className:"form-control",name:"selecetedUnit",placeholder:"selecetedUnit",value:null===e||void 0===e?void 0:e.selecetedUnit,onChange:function(e){return Je(e,t)},id:"unit"},r.a.createElement("option",{value:""},"--select Unit--"),r.a.createElement("option",{value:"kg"},"Kilogram (kg)"),r.a.createElement("option",{value:"Pcs"},"Pieces (Pcs)"),r.a.createElement("option",{value:"g"},"Gram (g)"),r.a.createElement("option",{value:"tonne"},"Metric Ton (tonne)"),r.a.createElement("option",{value:"m"},"Meter (m)"),r.a.createElement("option",{value:"cm"},"Centimeter (cm)"),r.a.createElement("option",{value:"mm"},"Millimeter (mm)"),r.a.createElement("option",{value:"in"},"Inch (in)"),r.a.createElement("option",{value:"ft"},"Foot (ft)"),r.a.createElement("option",{value:"m3"},"Cubic Meter (m\xb3)"),r.a.createElement("option",{value:"L"},"Liter (L)"),r.a.createElement("option",{value:"ml"},"Milliliter (ml)"),r.a.createElement("option",{value:"s"},"Second (s)"),r.a.createElement("option",{value:"min"},"Minute (min)"),r.a.createElement("option",{value:"hr"},"Hour (hr)"),r.a.createElement("option",{value:"\xb0C"},"Celsius (\xb0C)"),r.a.createElement("option",{value:"\xb0F"},"Fahrenheit (\xb0F)"),r.a.createElement("option",{value:"Pa"},"Pascal (Pa)"),r.a.createElement("option",{value:"bar"},"Bar (bar)"),r.a.createElement("option",{value:"m/s"},"Meters per Second (m/s)"),r.a.createElement("option",{value:"km/h"},"Kilometers per Hour (km/h)"),r.a.createElement("option",{value:"A"},"Ampere (A)"),r.a.createElement("option",{value:"V"},"Volt (V)"),r.a.createElement("option",{value:"W"},"Watt (W)"),r.a.createElement("option",{value:"kW"},"Kilowatt (kW)")))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Price",(null===e||void 0===e?void 0:e.unitType)&&(null===e||void 0===e?void 0:e.unitType)),r.a.createElement(b.a,{type:"number",name:"price",readOnly:!0,"aria-readonly":!0,onChange:function(e){return Ke(e,t)},placeholder:"Price",value:e.price}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Req_Qty"),r.a.createElement(b.a,{type:"number",min:0,step:"any",name:"RequiredQty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.RequiredQty,onChange:function(e){return Ke(e,t)}}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Discount"),r.a.createElement(b.a,{type:"number",name:"discount",readOnly:!0,placeholder:"Discount",value:e.discount}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Total Price"),r.a.createElement(b.a,{type:"number",name:"totalprice",readOnly:!0,placeholder:"TtlPrice",value:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement("label",{for:"unit"},"Waste Unit"),r.a.createElement("select",{required:!0,className:"form-control",name:"WasteUnit",placeholder:"WasteUnit",value:null===e||void 0===e?void 0:e.WasteUnit,onChange:function(e){return Je(e,t)},id:"unit"},r.a.createElement("option",{value:""},"--select Unit--"),r.a.createElement("option",{value:"kg"},"Kilogram (kg)"),r.a.createElement("option",{value:"Pcs"},"Pieces (Pcs)"),r.a.createElement("option",{value:"g"},"Gram (g)"),r.a.createElement("option",{value:"tonne"},"Metric Ton (tonne)"),r.a.createElement("option",{value:"m"},"Meter (m)"),r.a.createElement("option",{value:"cm"},"Centimeter (cm)"),r.a.createElement("option",{value:"mm"},"Millimeter (mm)"),r.a.createElement("option",{value:"in"},"Inch (in)"),r.a.createElement("option",{value:"ft"},"Foot (ft)"),r.a.createElement("option",{value:"m3"},"Cubic Meter (m\xb3)"),r.a.createElement("option",{value:"L"},"Liter (L)"),r.a.createElement("option",{value:"ml"},"Milliliter (ml)"),r.a.createElement("option",{value:"s"},"Second (s)"),r.a.createElement("option",{value:"min"},"Minute (min)"),r.a.createElement("option",{value:"hr"},"Hour (hr)"),r.a.createElement("option",{value:"\xb0C"},"Celsius (\xb0C)"),r.a.createElement("option",{value:"\xb0F"},"Fahrenheit (\xb0F)"),r.a.createElement("option",{value:"Pa"},"Pascal (Pa)"),r.a.createElement("option",{value:"bar"},"Bar (bar)"),r.a.createElement("option",{value:"m/s"},"Meters per Second (m/s)"),r.a.createElement("option",{value:"km/h"},"Kilometers per Hour (km/h)"),r.a.createElement("option",{value:"A"},"Ampere (A)"),r.a.createElement("option",{value:"V"},"Volt (V)"),r.a.createElement("option",{value:"W"},"Watt (W)"),r.a.createElement("option",{value:"kW"},"Kilowatt (kW)")))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Waste_Qty"),r.a.createElement(b.a,{type:"number",min:0,step:"any",name:"Waste_Qty",placeholder:"Waste_Qty",value:null===e||void 0===e?void 0:e.Waste_Qty,onChange:function(e){return Ke(e,t)}}))),r.a.createElement(d.a,{className:"mb-1",lg:"1",md:"1",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Total"),r.a.createElement(b.a,{type:"number",name:"WastePrice",readOnly:!0,placeholder:"WasteTotal",value:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.Waste_Qty)}))),r.a.createElement(d.a,{className:"d-flex mt-1 abb",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:"btnStyle"},t?r.a.createElement(s.a,{type:"button",color:"danger",className:"button remove ",onClick:function(){return He(t)}},"- Remove"):null),r.a.createElement("div",{className:"btnStyle"},r.a.createElement(s.a,{className:"ml-1 mb-1",color:"primary",type:"button",onClick:function(){return Be()}},"+ Add"))))}))),r.a.createElement(m.a,null),r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},r.a.createElement("div",{className:" d-flex justify-content-end"},r.a.createElement(E.a,{className:"pr-5"},"Grand Total :"," ",r.a.createElement("stron",null,Oe&&"NaN"==Oe?0:Oe," "))))),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(s.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit"))))))),r.a.createElement(g.a,Object.assign({style:{maxWidth:"1050px"},isOpen:Me,toggle:De},e),r.a.createElement(j.a,{toggle:De},"Add Charges"),r.a.createElement(f.a,null,r.a.createElement(p.a,{className:"m-1",onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("userData")),a=null===Le||void 0===Le?void 0:Le.map((function(e,t){return{productId:null===e||void 0===e?void 0:e.productId,unit:null===e||void 0===e?void 0:e.unitType,price:null===e||void 0===e?void 0:e.price,qty:null===e||void 0===e?void 0:e.RequiredQty,unitType:null===e||void 0===e?void 0:e.selecetedUnit,totalPrice:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.RequiredQty)}})),l=null===Le||void 0===Le?void 0:Le.map((function(e,t){return{productId:null===e||void 0===e?void 0:e.productId,unit:null===e||void 0===e?void 0:e.WasteUnit,price:null===e||void 0===e?void 0:e.price,qty:null===e||void 0===e?void 0:e.Waste_Qty,unitType:null===e||void 0===e?void 0:e.WasteUnit,totalPrice:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.Waste_Qty)}})),n=Number(Oe)+Number(null===k||void 0===k?void 0:k.Other_Expenses)+Number(null===k||void 0===k?void 0:k.Other_charges)+Number(Oe)*(null===k||void 0===k?void 0:k.GSTApplied)/100-Number(null===k||void 0===k?void 0:k.discount),o={created_by:null===t||void 0===t?void 0:t._id,product_name:null===ue||void 0===ue?void 0:ue._id,productItems:a,wastageItems:l,miscellaneousExpennses:null===k||void 0===k?void 0:k.Other_Expenses,gstApplied:null===k||void 0===k?void 0:k.GSTApplied,otherCharges:null===k||void 0===k?void 0:k.Other_charges,discount:null===k||void 0===k?void 0:k.discount,grandTotal:n};Object(S.kd)(T.Rc,o).then((function(e){console.log(e),W()("Production Process is Created")})).catch((function(e){console.log(e)}))}},r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Miscellaneous Expenses "),r.a.createElement("input",{className:"form-control",name:"Other_Expenses",value:null===k||void 0===k?void 0:k.Other_Expenses,onChange:Ie,type:"number"}))),r.a.createElement(d.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"GST Applied "),r.a.createElement(O.a,{className:"form-control",name:"GSTApplied",value:null===k||void 0===k?void 0:k.GSTApplied,onChange:Ie,type:"select"},r.a.createElement("option",null,"--select--"),r.a.createElement("option",{value:18},"18"),r.a.createElement("option",{value:9},"9")))),r.a.createElement(d.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Other Charges "),r.a.createElement("input",{className:"form-control",name:"Other_charges",value:null===k||void 0===k?void 0:k.Other_charges,onChange:Ie,type:"number"}))),r.a.createElement(d.a,{className:"mb-1",lg:"3",md:"3",sm:"12"},r.a.createElement("div",{className:""},r.a.createElement(E.a,null,"Discount "),r.a.createElement("input",{className:"form-control",value:null===k||void 0===k?void 0:k.discount,name:"discount",onChange:Ie,type:"number"})))),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," SubTotal:")," ",Oe&&"NaN"==Oe?0:Oe," "),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," Miscellaneous:"),null===k||void 0===k?void 0:k.Other_Expenses),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," GST:")," ",(null===k||void 0===k?void 0:k.GSTApplied)*Oe/100),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," other:"),null===k||void 0===k?void 0:k.Other_charges),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," Discount: "),null===k||void 0===k?void 0:k.discount),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("strong",null," GrandTotal:"),null===(t=Number(Oe)+Number(null===k||void 0===k?void 0:k.Other_Expenses)+Number(null===k||void 0===k?void 0:k.Other_charges)+Number(Oe)*(null===k||void 0===k?void 0:k.GSTApplied)/100-Number(null===k||void 0===k?void 0:k.discount))||void 0===t?void 0:t.toFixed(2)))),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(s.a,{color:"primary",type:"submit"},"Submit")," "))))),r.a.createElement(y.a,null)))}}}]);
//# sourceMappingURL=406.77375ab4.chunk.js.map