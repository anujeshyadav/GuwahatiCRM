(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[472],{3016:function(e,t,a){"use strict";a.r(t);var l=a(26),n=a(25),r=a(1),c=a.n(r),o=(a(233),a(910)),u=a(902),i=a(903),s=a(244),d=a(914),m=a(904),v=a(905),b=a(906),E=(a(234),a(84)),f=(a(232),a(54));t.default=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),p=(a[0],a[1]),O=Object(r.useState)(""),g=Object(n.a)(O,2),y=g[0],h=(g[1],Object(r.useState)([])),N=Object(n.a)(h,2),j=(N[0],N[1]),S=Object(r.useState)(0),P=Object(n.a)(S,2),_=P[0],I=P[1],Q=Object(r.useState)({}),R=Object(n.a)(Q,2),J=(R[0],R[1]),k=Object(r.useState)({}),x=Object(n.a)(k,2),w=(x[0],x[1]),D=Object(r.useState)([]),q=Object(n.a)(D,2),T=(q[0],q[1]),C=(Object(E.i)(),Object(E.h)()),B=Object(r.useState)([{productId:"",Product_Title:"",Qty_Sales:"",Qty_Return:0,Product_Price:""}]),L=Object(n.a)(B,2),z=L[0],A=L[1],G=function(e,t){p(t);var a=e.target,n=a.name,r=a.value,c=Object(l.a)(z);c[t][n]=r,A(c)};Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("OrderList")).orderItems;if(null===C||void 0===C?void 0:C.state){console.log(null===C||void 0===C?void 0:C.state),A(null===C||void 0===C?void 0:C.state.orderItems);var t=null===C||void 0===C?void 0:C.state.orderItems.reduce((function(e,t){return e+t.price}),0);I(t),localStorage.setItem("EditoneProduct",null===C||void 0===C?void 0:C.state),J(null===C||void 0===C?void 0:C.state)}else{A(e);var a=null===C||void 0===C?void 0:C.state.orderItems.reduce((function(e,t){return e+t.price}),0);I(a)}}),[]),Object(r.useEffect)((function(){console.log(z)}),[z]),Object(r.useEffect)((function(){Object(f.H)().then((function(e){T(null===e||void 0===e?void 0:e.SalesPerson)})).catch((function(e){return console.log(e)}));var e=JSON.parse(localStorage.getItem("userData"));Object(f.Rb)(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.database).then((function(e){j(null===e||void 0===e?void 0:e.Product)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));console.log(e),w(e)}),[]);return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement(u.a,{className:"m-2"},c.a.createElement(i.a,{className:""},c.a.createElement("div",null,c.a.createElement("h1",{className:""},"Purchase Return"))),c.a.createElement(i.a,null,c.a.createElement("div",{className:"float-right"},c.a.createElement(E.b,{render:function(e){var t=e.history;return c.a.createElement(s.a,{style:{cursor:"pointer"},className:"float-right mr-1",color:"danger",size:"sm",onClick:function(){return t.goBack()}},"Back")}})))),c.a.createElement(d.a,null,c.a.createElement(m.a,{className:"m-1",onSubmit:function(e){var t;e.preventDefault(),console.log(z);var a=JSON.parse(localStorage.getItem("userData")),l=null===z||void 0===z?void 0:z.map((function(e,t){var a;return{productId:null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a._id,Qty_Purchased:null===e||void 0===e?void 0:e.qty,Qty_Return:Number(null===e||void 0===e?void 0:e.returnQty),Product_Price:null===e||void 0===e?void 0:e.price}})),n={userId:null===a||void 0===a?void 0:a._id,returnItems:l,mobileNumber:null===a||void 0===a?void 0:a.mobileNumber,email:a.email,Return_amount:_,orderId:null===C||void 0===C||null===(t=C.state)||void 0===t?void 0:t._id};y?swal("Error occured while Entering Details"):(console.log(n),Object(f.Ub)(n).then((function(e){swal("Purchase Returned Successfully"),history.push("/app/AJgroup/order/purchaseOrderList"),console.log(e)})).catch((function(e){console.log(e)})))}},z&&(null===z||void 0===z?void 0:z.map((function(e,t){var a;return c.a.createElement(u.a,{className:"",key:t},c.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Product Name"),c.a.createElement(b.a,{type:"text",name:"Product_Title",readOnly:!0,placeholder:"Product Name",value:null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.Product_Title}))),c.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Price"),c.a.createElement(b.a,{type:"text",name:"price",readOnly:!0,placeholder:"Price",value:null===e||void 0===e?void 0:e.price}))),c.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Purchased Quantity"),c.a.createElement(b.a,{type:"number",readOnly:!0,name:"qty",placeholder:"Req_Qty",value:null===e||void 0===e?void 0:e.qty,onChange:function(e){return G(e,t)}}))),c.a.createElement(i.a,{className:"mb-1",lg:"2",md:"2",sm:"12"},c.a.createElement("div",{className:""},c.a.createElement(v.a,null,"Return Quantity"),c.a.createElement(b.a,{type:"number",name:"returnQty",placeholder:"Return Quantity",value:z.returnQty,onChange:function(e){return G(e,t)}}))))}))),c.a.createElement(u.a,null,c.a.createElement(i.a,{className:"mb-1",lg:"12",md:"12",sm:"12"},c.a.createElement("div",{className:" d-flex justify-content-end"},c.a.createElement(v.a,{className:"pr-5"},"Grand Total : ",c.a.createElement("stron",null,_))))),c.a.createElement(u.a,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(s.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"Submit")))))))))}}}]);
//# sourceMappingURL=472.eb5ee72d.chunk.js.map